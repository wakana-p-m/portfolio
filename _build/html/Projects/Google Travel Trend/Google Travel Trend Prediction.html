

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Travel Google Search Trend Prediction &#8212; Wakana Morlan Marketing Data Analyst</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Projects/Google Travel Trend/Google Travel Trend Prediction';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Online Event Optimization üéüÔ∏è" href="../../Online%20Event%20Operation%20Analysis.html" />
    <link rel="prev" title="Konnichiwa! (‚ÄúHello!‚Äù in Japanese) üëã" href="../../intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/Wakana.jpg" class="logo__image only-light" alt="Wakana Morlan Marketing Data Analyst - Home"/>
    <script>document.write(`<img src="../../_static/Wakana.jpg" class="logo__image only-dark" alt="Wakana Morlan Marketing Data Analyst - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Konnichiwa! (‚ÄúHello!‚Äù in Japanese) üëã
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Projects</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Travel Google Search Trend Prediction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Online%20Event%20Operation%20Analysis.html">Online Event Optimization üéüÔ∏è</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Paid%20Social%20Ad%20Landing%20page%20AB%20Test.html">Paid Social A/B Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../social_media.html">Social Media Content Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Credit%20Worthiness%20Analysis.html">Credit Worthiness Analysis</a></li>





<li class="toctree-l1"><a class="reference internal" href="../../WeRateDogs%20Twitter%20Analysis.html">WeRateDogs Twitter Analysis</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../Portfolio%20with%20Jupyter%20book.html">Portfolio with Jupyter book</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FProjects/Google Travel Trend/Google Travel Trend Prediction.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/Projects/Google Travel Trend/Google Travel Trend Prediction.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Travel Google Search Trend Prediction</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#business-questions">Business Questions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#to-dos">To-Dos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-the-dataset">1. Import the dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analyze-the-characteristics-of-the-time-series">2. Analyze the characteristics of the time series</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#observations">Observations</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-for-causation-using-granger-s-causality-test">3. Test for Causation using Granger‚Äôs Causality Test</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#obseravatisons">Obseravatisons</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cointegration-test">4. Cointegration Test</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Observations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#split-the-series-into-training-and-test-dataset">5. Split the series into Training and Test Dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#check-stationality-and-transform-if-the-series-is-not-stationary">6. Check Stationality and Transform if the Series is not Stationary</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#augmented-dickey-fuller-test">Augmented Dickey Fuller Test</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Observations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deferencing">Deferencing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#observation">Observation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#find-optimal-order-p">8. Find optimal order (p)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#train-the-model-of-selected-order-p">9. Train the model of Selected Order (p)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#check-for-serial-correlation-of-residuals-using-durbin-watson-statistic">10. Check for serial Correlation of Residuals using Durbin Watson Statistic</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#forecast">11. Forecast</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revert-the-differenced-values">12. Revert the differenced values</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluate-the-model">12. Evaluate the model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#find-the-best-combination-of-input-variables">13. Find the best combination of input variables</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#repeat-the-process-from-8">Repeat the process from 8</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="travel-google-search-trend-prediction">
<h1>Travel Google Search Trend Prediction<a class="headerlink" href="#travel-google-search-trend-prediction" title="Permalink to this heading">#</a></h1>
<section id="business-questions">
<h2>Business Questions<a class="headerlink" href="#business-questions" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>Business Question 1: What are the external factors that impact the volume of Google Search about domestic travel to Las Vegas in United State?</strong></p>
<ul>
<li><p>Granger Causarity Test</p>
<ul>
<li><p>H0: The input variable X does not cause the changes in the future demand of output variable Y.</p></li>
<li><p>H1: The input variable X does cause the change in  the future demand of output variable Y.</p></li>
</ul>
</li>
<li><p>Cointegration Test</p></li>
</ul>
</li>
<li><p><strong>Business Question 2: What is the time lag between the external factors impact the volume of Google Search?</strong></p>
<ul>
<li><p>Pick the Order (P) of VAR model that gives a model with the least AIC by iteratively fit increasing orders of VAR model</p></li>
</ul>
</li>
<li><p><strong>Business Question 3: How to determ the variables to incporate into the demand forecasting model?</strong></p>
<ul>
<li><p>Select the best performing model based on Root Mean Squared Error (RMSE), Mean Absolute Percentage Error (MAPE), Mean Absolute Error (MAE), and Mean Squared Error (MSE)</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="c1"># Import Statsmodels</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.api</span> <span class="kn">import</span> <span class="n">VAR</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.stattools</span> <span class="kn">import</span> <span class="n">adfuller</span>
<span class="kn">from</span> <span class="nn">statsmodels.tools.eval_measures</span> <span class="kn">import</span> <span class="n">rmse</span><span class="p">,</span> <span class="n">aic</span>

<span class="c1">#supress scientific notation</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.float_format&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{:.3f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="to-dos">
<h2>To-Dos<a class="headerlink" href="#to-dos" title="Permalink to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Import the dataset</p></li>
<li><p>Analyze the time series characteristics</p></li>
<li><p>Test for causation among the time series</p></li>
<li><p>Test for cointegration among the time series</p></li>
<li><p>Split the dataset into Training and Test</p></li>
<li><p>Test for stationarity</p></li>
<li><p>Transform the series to make it stationary, if needed</p></li>
<li><p>Find optimal order (p)</p></li>
<li><p>Prepare training and test datasets</p></li>
<li><p>Train the model</p></li>
<li><p>Roll back the transformations, if any.</p></li>
<li><p>Evaluate the model using test set</p></li>
<li><p>Forecast to future</p></li>
</ol>
<section id="import-the-dataset">
<h3>1. Import the dataset<a class="headerlink" href="#import-the-dataset" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;travel_data.csv&#39;</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;DATE&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;DATE&#39;</span><span class="p">]</span><span class="o">&gt;=</span><span class="s1">&#39;2018&#39;</span><span class="p">]</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Visitor Volume&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Visitor Volume&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;DATE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;DATE&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;DATE&#39;</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Google Trend Index</th>
      <th>Visitor Volume</th>
      <th>Average Daily Room Rate (ADR)</th>
      <th>CPI</th>
      <th>Unemployment Rate</th>
      <th>Cost per Gallon</th>
    </tr>
    <tr>
      <th>DATE</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2023-01-01</th>
      <td>78</td>
      <td>3275300</td>
      <td>191.620</td>
      <td>299.170</td>
      <td>3.400</td>
      <td>3.330</td>
    </tr>
    <tr>
      <th>2023-02-01</th>
      <td>78</td>
      <td>3081800</td>
      <td>176.640</td>
      <td>300.840</td>
      <td>3.600</td>
      <td>3.250</td>
    </tr>
    <tr>
      <th>2023-03-01</th>
      <td>80</td>
      <td>3655800</td>
      <td>213.250</td>
      <td>301.836</td>
      <td>3.500</td>
      <td>2.930</td>
    </tr>
    <tr>
      <th>2023-04-01</th>
      <td>75</td>
      <td>3385500</td>
      <td>171.050</td>
      <td>303.363</td>
      <td>3.400</td>
      <td>2.660</td>
    </tr>
    <tr>
      <th>2023-05-01</th>
      <td>79</td>
      <td>3498000</td>
      <td>183.400</td>
      <td>304.127</td>
      <td>3.700</td>
      <td>3.450</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Normalize the visitor volume, Average Daily Room Rate, and CPI data with Z-score</span>
<span class="n">avg</span><span class="p">,</span> <span class="n">dev</span>  <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Visitor Volume&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Visitor Volume&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Visitor Volume&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Visitor Volume&#39;</span><span class="p">]</span><span class="o">-</span><span class="n">avg</span><span class="p">)</span><span class="o">/</span><span class="n">dev</span>

<span class="n">avg</span><span class="p">,</span> <span class="n">dev</span>  <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Average Daily Room Rate (ADR)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Average Daily Room Rate (ADR)&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Average Daily Room Rate (ADR)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Average Daily Room Rate (ADR)&#39;</span><span class="p">]</span><span class="o">-</span><span class="n">avg</span><span class="p">)</span><span class="o">/</span><span class="n">dev</span>

<span class="n">avg</span><span class="p">,</span> <span class="n">dev</span>  <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;CPI&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;CPI&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;CPI&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;CPI&#39;</span><span class="p">]</span><span class="o">-</span><span class="n">avg</span><span class="p">)</span><span class="o">/</span><span class="n">dev</span>

<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Google Trend Index</th>
      <th>Visitor Volume</th>
      <th>Average Daily Room Rate (ADR)</th>
      <th>CPI</th>
      <th>Unemployment Rate</th>
      <th>Cost per Gallon</th>
    </tr>
    <tr>
      <th>DATE</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018-01-01</th>
      <td>87</td>
      <td>0.496</td>
      <td>0.421</td>
      <td>-1.167</td>
      <td>4.000</td>
      <td>2.020</td>
    </tr>
    <tr>
      <th>2018-02-01</th>
      <td>87</td>
      <td>0.203</td>
      <td>-0.566</td>
      <td>-1.104</td>
      <td>4.100</td>
      <td>2.020</td>
    </tr>
    <tr>
      <th>2018-03-01</th>
      <td>89</td>
      <td>0.892</td>
      <td>-0.120</td>
      <td>-1.072</td>
      <td>4.000</td>
      <td>1.960</td>
    </tr>
    <tr>
      <th>2018-04-01</th>
      <td>82</td>
      <td>0.668</td>
      <td>-0.279</td>
      <td>-1.016</td>
      <td>4.000</td>
      <td>2.080</td>
    </tr>
    <tr>
      <th>2018-05-01</th>
      <td>88</td>
      <td>0.759</td>
      <td>-0.120</td>
      <td>-0.957</td>
      <td>3.800</td>
      <td>2.180</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2023-01-01</th>
      <td>78</td>
      <td>0.364</td>
      <td>1.714</td>
      <td>1.719</td>
      <td>3.400</td>
      <td>3.330</td>
    </tr>
    <tr>
      <th>2023-02-01</th>
      <td>78</td>
      <td>0.149</td>
      <td>1.237</td>
      <td>1.813</td>
      <td>3.600</td>
      <td>3.250</td>
    </tr>
    <tr>
      <th>2023-03-01</th>
      <td>80</td>
      <td>0.787</td>
      <td>2.402</td>
      <td>1.869</td>
      <td>3.500</td>
      <td>2.930</td>
    </tr>
    <tr>
      <th>2023-04-01</th>
      <td>75</td>
      <td>0.487</td>
      <td>1.059</td>
      <td>1.955</td>
      <td>3.400</td>
      <td>2.660</td>
    </tr>
    <tr>
      <th>2023-05-01</th>
      <td>79</td>
      <td>0.612</td>
      <td>1.452</td>
      <td>1.998</td>
      <td>3.700</td>
      <td>3.450</td>
    </tr>
  </tbody>
</table>
<p>65 rows √ó 6 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#The list of variables</span>
<span class="n">input_variables</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">input_variables</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Visitor Volume&#39;,
 &#39;Average Daily Room Rate (ADR)&#39;,
 &#39;CPI&#39;,
 &#39;Unemployment Rate&#39;,
 &#39;Cost per Gallon&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="analyze-the-characteristics-of-the-time-series">
<h3>2. Analyze the characteristics of the time series<a class="headerlink" href="#analyze-the-characteristics-of-the-time-series" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Visualize the overall trend of each time series</span>

<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">,</span> <span class="n">ax3</span><span class="p">,</span> <span class="n">ax4</span><span class="p">,</span> <span class="n">ax5</span><span class="p">,</span> <span class="n">ax6</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Google Trend Index&#39;</span><span class="p">])</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Google Trend Index&#39;</span><span class="p">)</span>

<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Visitor Volume&#39;</span><span class="p">])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Visitor Volume in Las Vegas&#39;</span><span class="p">)</span>

<span class="n">ax3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Average Daily Room Rate (ADR)&#39;</span><span class="p">])</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Average Daily Room Rate (ADR) in USD&#39;</span><span class="p">)</span>

<span class="n">ax4</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;CPI&#39;</span><span class="p">])</span>
<span class="n">ax4</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Consumer Price Index (CPI)&#39;</span><span class="p">)</span>

<span class="n">ax5</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Unemployment Rate&#39;</span><span class="p">])</span>
<span class="n">ax5</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Unemployment Rate&#39;</span><span class="p">)</span>

<span class="n">ax6</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Cost per Gallon&#39;</span><span class="p">])</span>
<span class="n">ax6</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Flight Fuel Cost Per Gallon&#39;</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">autofmt_xdate</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="p">;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;&#39;
</pre></div>
</div>
<img alt="../../_images/a61972a8d8a97cafd27fb2e0a1ed485a5f9703370700b099420c7ae956e4b480.png" src="../../_images/a61972a8d8a97cafd27fb2e0a1ed485a5f9703370700b099420c7ae956e4b480.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A function to create Decomposition and plot trend, seasonality, and errors</span>
<span class="k">def</span> <span class="nf">decomposition</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">statsmodels.tsa.seasonal</span> <span class="kn">import</span> <span class="n">seasonal_decompose</span>
    <span class="n">variables</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">variables</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">seasonal_decompose</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

        <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
        <span class="n">fix</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">decomposition</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 1200x800 with 0 Axes&gt;
</pre></div>
</div>
<img alt="../../_images/41a38e282fd1d086813728d7cfbf3d1990974d15a8761a4d3717de091b6aa1b8.png" src="../../_images/41a38e282fd1d086813728d7cfbf3d1990974d15a8761a4d3717de091b6aa1b8.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 1200x800 with 0 Axes&gt;
</pre></div>
</div>
<img alt="../../_images/9d8e8a94ea2060727809cbac5ad8288473d499541a20e3b54dbf9086cc59f6f7.png" src="../../_images/9d8e8a94ea2060727809cbac5ad8288473d499541a20e3b54dbf9086cc59f6f7.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 1200x800 with 0 Axes&gt;
</pre></div>
</div>
<img alt="../../_images/fed3409ce451270f5fc9d91252f09f946bb2d837a2d5be57f449c84d23057765.png" src="../../_images/fed3409ce451270f5fc9d91252f09f946bb2d837a2d5be57f449c84d23057765.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 1200x800 with 0 Axes&gt;
</pre></div>
</div>
<img alt="../../_images/6f836dd0fd3c709b4249fea17611bcaa33187736f0e38d479dc58b59a0fcf2e3.png" src="../../_images/6f836dd0fd3c709b4249fea17611bcaa33187736f0e38d479dc58b59a0fcf2e3.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 1200x800 with 0 Axes&gt;
</pre></div>
</div>
<img alt="../../_images/10e17796ca6e3176715f9220b2ab68719cae7005afaea18261a777f058dbe4ff.png" src="../../_images/10e17796ca6e3176715f9220b2ab68719cae7005afaea18261a777f058dbe4ff.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 1200x800 with 0 Axes&gt;
</pre></div>
</div>
<img alt="../../_images/87db6d697fa7a1324c303044b3e0e86b3d950b58ab49a686ba4990dfe145d25c.png" src="../../_images/87db6d697fa7a1324c303044b3e0e86b3d950b58ab49a686ba4990dfe145d25c.png" />
</div>
</div>
<section id="observations">
<h4>Observations<a class="headerlink" href="#observations" title="Permalink to this heading">#</a></h4>
<ul class="simple">
<li><p>Google Trend Index, Visitor voluhme, Verage daily room rate has failry similar trend.</p></li>
<li><p>Flight Fuel has somewhat similar trend as Google Trend Index but slighly lagged from the Google Trend index.</p></li>
<li><p>Exmplotment rate is an inverse relationship to Google Trend Index</p></li>
<li><p>Consumer Price index does not seem to have similar trend as Google Trend Index.</p></li>
</ul>
</section>
</section>
<section id="test-for-causation-using-granger-s-causality-test">
<h3>3. Test for Causation using Granger‚Äôs Causality Test<a class="headerlink" href="#test-for-causation-using-granger-s-causality-test" title="Permalink to this heading">#</a></h3>
<p><strong>Granger‚Äôs Causality Test</strong>
Null Hypothesis: The past value of input variable X do not cause the output variable Y.</p>
<p><em>H0</em>: The past value of the input variable X does not cause the output variable Y. <br>
<em>H1</em>: The past value of the input variable X causes the output variable Y.</p>
<p>Row (Y): Output variables <br>
Columns (X): Inputvariables</p>
<p><em>If s given p-value is &lt; 0.05, the corresponding X series (column) causes the Y (row).</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#A funcion to check Granger&#39;s causality of all possible combination of the time series</span>
<span class="k">def</span> <span class="nf">check_causality</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">variables</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="s1">&#39;ssr_chi2test&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">maxlag</span> <span class="o">=</span> <span class="mi">12</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">statsmodels.tsa.stattools</span> <span class="kn">import</span> <span class="n">grangercausalitytests</span>
    <span class="c1">#create a empty DataFram:</span>
        <span class="c1">#Columns: variables</span>
        <span class="c1">#Rows: Variables</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">variables</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">variables</span><span class="p">))),</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">variables</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">variables</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
            <span class="n">test_result</span> <span class="o">=</span> <span class="n">grangercausalitytests</span><span class="p">(</span><span class="n">data</span><span class="p">[[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]],</span> <span class="n">maxlag</span><span class="o">=</span><span class="n">maxlag</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
            <span class="n">p_values</span> <span class="o">=</span> <span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="n">test_result</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="n">test</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="mi">4</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">maxlag</span><span class="p">)]</span>
            <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Y = </span><span class="si">{</span><span class="n">row</span><span class="si">}</span><span class="s1">, X = </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">, P Values = </span><span class="si">{</span><span class="n">p_values</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">min_p_value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">p_values</span><span class="p">)</span>
            <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">min_p_value</span>
    <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">var</span> <span class="o">+</span> <span class="s1">&#39;_x&#39;</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">variables</span><span class="p">]</span>
    <span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="n">var</span> <span class="o">+</span> <span class="s1">&#39;_y&#39;</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">variables</span><span class="p">]</span>
    
    <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">df</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">causality</span> <span class="o">=</span> <span class="n">check_causality</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">causality</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Google Trend Index_x</th>
      <th>Visitor Volume_x</th>
      <th>Average Daily Room Rate (ADR)_x</th>
      <th>CPI_x</th>
      <th>Unemployment Rate_x</th>
      <th>Cost per Gallon_x</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Google Trend Index_y</th>
      <td>1.000</td>
      <td>0.000</td>
      <td>0.000</td>
      <td>0.001</td>
      <td>0.000</td>
      <td>0.242</td>
    </tr>
    <tr>
      <th>Visitor Volume_y</th>
      <td>0.121</td>
      <td>1.000</td>
      <td>0.023</td>
      <td>0.122</td>
      <td>0.212</td>
      <td>0.127</td>
    </tr>
    <tr>
      <th>Average Daily Room Rate (ADR)_y</th>
      <td>0.004</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>0.000</td>
      <td>0.000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>CPI_y</th>
      <td>0.085</td>
      <td>0.000</td>
      <td>0.001</td>
      <td>1.000</td>
      <td>0.005</td>
      <td>0.001</td>
    </tr>
    <tr>
      <th>Unemployment Rate_y</th>
      <td>0.050</td>
      <td>0.000</td>
      <td>0.183</td>
      <td>0.415</td>
      <td>1.000</td>
      <td>0.025</td>
    </tr>
    <tr>
      <th>Cost per Gallon_y</th>
      <td>0.351</td>
      <td>0.125</td>
      <td>0.123</td>
      <td>0.001</td>
      <td>0.053</td>
      <td>1.000</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/5295be3183f9b4c1e32616c3189e5651dadf2e822522cd39e6168fa9dc08501d.png" src="../../_images/5295be3183f9b4c1e32616c3189e5651dadf2e822522cd39e6168fa9dc08501d.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">causality</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;causality_test.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="obseravatisons">
<h4>Obseravatisons<a class="headerlink" href="#obseravatisons" title="Permalink to this heading">#</a></h4>
<ul class="simple">
<li><p>Google Trend Index is Granger caused by all variables (visitor volume, average darily room rate, CPI, employment rate) except for cost per gallon as p-value of Grander causality test are less than the significance level at 0.05.</p></li>
</ul>
</section>
</section>
</section>
<section id="cointegration-test">
<h2>4. Cointegration Test<a class="headerlink" href="#cointegration-test" title="Permalink to this heading">#</a></h2>
<p>Cointegration test helps to establish the presence of a statistically significant connection between two or more time series. <br> Vector Autoregression (VAR) model assume the cointegration of time series used for the model.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A function to test cointegration and show the summary</span>
<span class="k">def</span> <span class="nf">cointegration_test</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">statsmodels.tsa.vector_ar.vecm</span> <span class="kn">import</span> <span class="n">coint_johansen</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">coint_johansen</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;0.90&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;0.95&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;0.99&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
    
    <span class="n">traces</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">lr1</span>  <span class="c1">#trace statistic</span>
    <span class="n">cvts</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">cvt</span><span class="p">[:,</span> <span class="n">d</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">alpha</span><span class="p">)]]</span>  <span class="c1">#Critical values (90%, 95%, 99%) of trace statistic</span>
    
    <span class="k">def</span> <span class="nf">adjust</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span> <span class="mi">6</span><span class="p">):</span> <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>

    <span class="n">variables</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span>
    <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Test Stat&quot;</span> <span class="p">,</span><span class="s2">&quot; &gt; C(95%)&quot;</span><span class="p">,</span> <span class="s2">&quot;Signif&quot;</span><span class="p">]</span>

    <span class="n">summary</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">variables</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">attributes</span><span class="p">))),</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">attributes</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">variables</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">var</span><span class="p">,</span> <span class="n">trace</span><span class="p">,</span> <span class="n">cvt</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">variables</span><span class="p">,</span> <span class="n">traces</span><span class="p">,</span> <span class="n">cvts</span><span class="p">):</span>
        <span class="n">sig</span> <span class="o">=</span> <span class="n">trace</span> <span class="o">&gt;</span> <span class="n">cvt</span>
        <span class="n">summary</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">var</span><span class="p">,</span> <span class="n">attributes</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="n">trace</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">cvt</span><span class="p">,</span>  <span class="n">sig</span><span class="p">]</span>
        <span class="n">summary</span><span class="p">[</span><span class="s1">&#39;Signif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">summary</span><span class="p">[</span><span class="s1">&#39;Signif&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;bool&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">summary</span>
    
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cointegration_test_result</span> <span class="o">=</span> <span class="n">cointegration_test</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">cointegration_test_result</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Test Stat</th>
      <th>&gt; C(95%)</th>
      <th>Signif</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Google Trend Index</th>
      <td>225.010</td>
      <td>83.938</td>
      <td>True</td>
    </tr>
    <tr>
      <th>Visitor Volume</th>
      <td>145.510</td>
      <td>60.063</td>
      <td>True</td>
    </tr>
    <tr>
      <th>Average Daily Room Rate (ADR)</th>
      <td>80.280</td>
      <td>40.175</td>
      <td>True</td>
    </tr>
    <tr>
      <th>CPI</th>
      <td>39.470</td>
      <td>24.276</td>
      <td>True</td>
    </tr>
    <tr>
      <th>Unemployment Rate</th>
      <td>17.500</td>
      <td>12.321</td>
      <td>True</td>
    </tr>
    <tr>
      <th>Cost per Gallon</th>
      <td>3.150</td>
      <td>4.130</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="id1">
<h3>Observations<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Fuel cost is the only variable does not has statistically significant cointegration with other variables.</p></li>
<li><p>Therefore, fuel cost will be removed from the predictive model.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Removing fuel cost from the dataframe</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;Cost per Gallon&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Google Trend Index</th>
      <th>Visitor Volume</th>
      <th>Average Daily Room Rate (ADR)</th>
      <th>CPI</th>
      <th>Unemployment Rate</th>
    </tr>
    <tr>
      <th>DATE</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018-01-01</th>
      <td>87</td>
      <td>0.496</td>
      <td>0.421</td>
      <td>-1.167</td>
      <td>4.000</td>
    </tr>
    <tr>
      <th>2018-02-01</th>
      <td>87</td>
      <td>0.203</td>
      <td>-0.566</td>
      <td>-1.104</td>
      <td>4.100</td>
    </tr>
    <tr>
      <th>2018-03-01</th>
      <td>89</td>
      <td>0.892</td>
      <td>-0.120</td>
      <td>-1.072</td>
      <td>4.000</td>
    </tr>
    <tr>
      <th>2018-04-01</th>
      <td>82</td>
      <td>0.668</td>
      <td>-0.279</td>
      <td>-1.016</td>
      <td>4.000</td>
    </tr>
    <tr>
      <th>2018-05-01</th>
      <td>88</td>
      <td>0.759</td>
      <td>-0.120</td>
      <td>-0.957</td>
      <td>3.800</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="split-the-series-into-training-and-test-dataset">
<h2>5. Split the series into Training and Test Dataset<a class="headerlink" href="#split-the-series-into-training-and-test-dataset" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Forecaset the next 3 observations</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nobs</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">df_train</span><span class="p">,</span> <span class="n">df_test</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="n">nobs</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="o">-</span><span class="n">nobs</span><span class="p">:]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df_train</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_test</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(61, 5)
(4, 5)
</pre></div>
</div>
</div>
</div>
</section>
<section id="check-stationality-and-transform-if-the-series-is-not-stationary">
<h2>6. Check Stationality and Transform if the Series is not Stationary<a class="headerlink" href="#check-stationality-and-transform-if-the-series-is-not-stationary" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Detect non-stationary using the Dickey-Fuller test <br></p></li>
</ul>
<section id="augmented-dickey-fuller-test">
<h3>Augmented Dickey Fuller Test<a class="headerlink" href="#augmented-dickey-fuller-test" title="Permalink to this heading">#</a></h3>
<p>Null hypothesis: non-stationary <br>
Alternative hypothesis: Stationary</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function to perform a ADF test</span>
<span class="k">def</span> <span class="nf">ADF_test</span><span class="p">(</span><span class="n">measure</span><span class="p">):</span>
    <span class="n">adf</span><span class="p">,</span> <span class="n">pval</span><span class="p">,</span> <span class="n">usedlag</span><span class="p">,</span> <span class="n">nobs</span><span class="p">,</span><span class="n">crit_vals</span><span class="p">,</span> <span class="n">icbest</span> <span class="o">=</span> <span class="n">adfuller</span><span class="p">(</span><span class="n">measure</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ADF test statistic: </span><span class="si">{</span><span class="n">adf</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ADF p-values: </span><span class="si">{</span><span class="n">pval</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ADF number of lags used: </span><span class="si">{</span><span class="n">usedlag</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ADF number of observations: </span><span class="si">{</span><span class="n">nobs</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ADF critical values: </span><span class="si">{</span><span class="n">crit_vals</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ADF best information criterion: </span><span class="si">{</span><span class="n">icbest</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">pval</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Reject the null hypothesis (non-stationaity). - The data is stational &#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Fail to reject the null pyhothsis. - The data is non stational.&#39;</span><span class="p">)</span>
        
    <span class="c1">#return adf, pval, usedlag, nobs,crit_vals, icbest</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A function to perform a ADF test for all variables</span>
<span class="k">def</span> <span class="nf">ADF_test</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    
    <span class="n">variables</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span>
    <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ADF test statistic&quot;</span><span class="p">,</span> <span class="s2">&quot;p-value&quot;</span><span class="p">,</span> <span class="s2">&quot;number of lags used&quot;</span><span class="p">,</span> <span class="s2">&quot;number of observations&quot;</span><span class="p">,</span><span class="s2">&quot;critical values&quot;</span><span class="p">,</span> <span class="s2">&quot;best information criterion&quot;</span><span class="p">,</span> <span class="s1">&#39;Significance&#39;</span><span class="p">]</span>

    <span class="n">summary</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">variables</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">attributes</span><span class="p">))),</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">attributes</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">variables</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">variables</span><span class="p">:</span>
        <span class="n">adf</span><span class="p">,</span> <span class="n">pval</span><span class="p">,</span> <span class="n">usedlag</span><span class="p">,</span> <span class="n">nobs</span><span class="p">,</span><span class="n">crit_vals</span><span class="p">,</span> <span class="n">icbest</span> <span class="o">=</span> <span class="n">adfuller</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">var</span><span class="p">])</span>
        <span class="n">sig</span> <span class="o">=</span> <span class="n">pval</span> <span class="o">&lt;</span> <span class="mf">0.05</span>         
        <span class="n">summary</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">var</span><span class="p">,</span> <span class="n">attributes</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">adf</span><span class="p">,</span> <span class="n">pval</span><span class="p">,</span> <span class="n">usedlag</span><span class="p">,</span> <span class="n">nobs</span><span class="p">,</span><span class="n">crit_vals</span><span class="p">,</span> <span class="n">icbest</span><span class="p">,</span> <span class="n">sig</span><span class="p">]</span>
    
    <span class="c1">#summary.apply(lambda x: round(x, 3))</span>
    <span class="n">summary</span><span class="p">[</span><span class="s1">&#39;Significance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">summary</span><span class="p">[</span><span class="s1">&#39;Significance&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;bool&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">summary</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ADF</span> <span class="o">=</span> <span class="n">ADF_test</span><span class="p">(</span><span class="n">df_train</span><span class="p">)</span>
<span class="n">ADF</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ADF test statistic</th>
      <th>p-value</th>
      <th>number of lags used</th>
      <th>number of observations</th>
      <th>critical values</th>
      <th>best information criterion</th>
      <th>Significance</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Google Trend Index</th>
      <td>-2.568</td>
      <td>0.100</td>
      <td>2.000</td>
      <td>58.000</td>
      <td>{'1%': -3.548493559596539, '5%': -2.9128365947...</td>
      <td>340.398</td>
      <td>False</td>
    </tr>
    <tr>
      <th>Visitor Volume</th>
      <td>-2.427</td>
      <td>0.134</td>
      <td>1.000</td>
      <td>59.000</td>
      <td>{'1%': -3.5463945337644063, '5%': -2.911939409...</td>
      <td>62.896</td>
      <td>False</td>
    </tr>
    <tr>
      <th>Average Daily Room Rate (ADR)</th>
      <td>-2.273</td>
      <td>0.181</td>
      <td>0.000</td>
      <td>60.000</td>
      <td>{'1%': -3.5443688564814813, '5%': -2.911073148...</td>
      <td>94.321</td>
      <td>False</td>
    </tr>
    <tr>
      <th>CPI</th>
      <td>0.440</td>
      <td>0.983</td>
      <td>7.000</td>
      <td>53.000</td>
      <td>{'1%': -3.560242358792829, '5%': -2.9178502070...</td>
      <td>-147.343</td>
      <td>False</td>
    </tr>
    <tr>
      <th>Unemployment Rate</th>
      <td>-2.400</td>
      <td>0.142</td>
      <td>0.000</td>
      <td>60.000</td>
      <td>{'1%': -3.5443688564814813, '5%': -2.911073148...</td>
      <td>182.319</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="id2">
<h3>Observations<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>All p-vale are greated than 0.05, hence failed to reject the null hpyothesis that series is non-stationary.</p></li>
<li><p>As a result, all time series need to remove trend.</p></li>
</ul>
</section>
<section id="deferencing">
<h3>Deferencing<a class="headerlink" href="#deferencing" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Remove the trend to have only seasonal variation</p></li>
<li><p>If the data is non-stationary, perform a differencing technique to stationary the data</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#A function to deference given series. Created a new data frame with differenced values</span>
<span class="k">def</span> <span class="nf">defference</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">df_differenced</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
        <span class="n">df_differenced</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_differenced</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; Differencing </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;differenced&#39;</span><span class="p">,</span> <span class="s1">&#39;original&#39;</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">df_differenced</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_differenced</span>  <span class="o">=</span> <span class="n">defference</span><span class="p">(</span><span class="n">df_train</span><span class="p">)</span>
<span class="n">df_differenced</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/0cd9a82d2030d03a275aa97a7694d07519ad2a5238f88f6e4c3338aa1185abee.png" src="../../_images/0cd9a82d2030d03a275aa97a7694d07519ad2a5238f88f6e4c3338aa1185abee.png" />
<img alt="../../_images/e605b2a940a9354acb3a4cf07c56ebbd0de0a9fdbdd6577d1db4eb489a57791a.png" src="../../_images/e605b2a940a9354acb3a4cf07c56ebbd0de0a9fdbdd6577d1db4eb489a57791a.png" />
<img alt="../../_images/7963a5dbf911ab57853c3d957a664870215e37840f78475fd639926cd9e01985.png" src="../../_images/7963a5dbf911ab57853c3d957a664870215e37840f78475fd639926cd9e01985.png" />
<img alt="../../_images/94a21da5735c5e25067288d563cf33fc24c2d5538bad04fbf0f4cc05daea840b.png" src="../../_images/94a21da5735c5e25067288d563cf33fc24c2d5538bad04fbf0f4cc05daea840b.png" />
<img alt="../../_images/86b2d3f0b5659ba9e16d84268815ee70ad5c3fe2a6915af6a1addc7368a6847a.png" src="../../_images/86b2d3f0b5659ba9e16d84268815ee70ad5c3fe2a6915af6a1addc7368a6847a.png" />
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Google Trend Index</th>
      <th>Visitor Volume</th>
      <th>Average Daily Room Rate (ADR)</th>
      <th>CPI</th>
      <th>Unemployment Rate</th>
    </tr>
    <tr>
      <th>DATE</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018-01-01</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2018-02-01</th>
      <td>0.000</td>
      <td>-0.293</td>
      <td>-0.987</td>
      <td>0.063</td>
      <td>0.100</td>
    </tr>
    <tr>
      <th>2018-03-01</th>
      <td>2.000</td>
      <td>0.689</td>
      <td>0.446</td>
      <td>0.032</td>
      <td>-0.100</td>
    </tr>
    <tr>
      <th>2018-04-01</th>
      <td>-7.000</td>
      <td>-0.224</td>
      <td>-0.159</td>
      <td>0.056</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2018-05-01</th>
      <td>6.000</td>
      <td>0.092</td>
      <td>0.159</td>
      <td>0.059</td>
      <td>-0.200</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Check stationary again</span>
<span class="n">ADF_test</span><span class="p">(</span><span class="n">df_differenced</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ADF test statistic</th>
      <th>p-value</th>
      <th>number of lags used</th>
      <th>number of observations</th>
      <th>critical values</th>
      <th>best information criterion</th>
      <th>Significance</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Google Trend Index</th>
      <td>-6.838</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>58.000</td>
      <td>{'1%': -3.548493559596539, '5%': -2.9128365947...</td>
      <td>337.375</td>
      <td>True</td>
    </tr>
    <tr>
      <th>Visitor Volume</th>
      <td>-5.457</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>58.000</td>
      <td>{'1%': -3.548493559596539, '5%': -2.9128365947...</td>
      <td>64.918</td>
      <td>True</td>
    </tr>
    <tr>
      <th>Average Daily Room Rate (ADR)</th>
      <td>-9.708</td>
      <td>0.000</td>
      <td>0.000</td>
      <td>59.000</td>
      <td>{'1%': -3.5463945337644063, '5%': -2.911939409...</td>
      <td>91.629</td>
      <td>True</td>
    </tr>
    <tr>
      <th>CPI</th>
      <td>-1.505</td>
      <td>0.531</td>
      <td>6.000</td>
      <td>53.000</td>
      <td>{'1%': -3.560242358792829, '5%': -2.9178502070...</td>
      <td>-144.966</td>
      <td>False</td>
    </tr>
    <tr>
      <th>Unemployment Rate</th>
      <td>-7.421</td>
      <td>0.000</td>
      <td>0.000</td>
      <td>59.000</td>
      <td>{'1%': -3.5463945337644063, '5%': -2.911939409...</td>
      <td>184.413</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="observation">
<h3>Observation<a class="headerlink" href="#observation" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>All time series except for CPI are stationary.</p></li>
<li><p>We will perform second differencing on CPI.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">CPI</span> <span class="o">=</span> <span class="n">df_differenced</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;CPI&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<span class="n">CPI_second</span> <span class="o">=</span> <span class="n">defference</span><span class="p">(</span><span class="n">CPI</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">ADF_test</span><span class="p">(</span><span class="n">CPI_second</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/c70d405c3049c9a4a50e24da60aed6a686e95800622c74921b687caeaf5950d1.png" src="../../_images/c70d405c3049c9a4a50e24da60aed6a686e95800622c74921b687caeaf5950d1.png" />
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ADF test statistic</th>
      <th>p-value</th>
      <th>number of lags used</th>
      <th>number of observations</th>
      <th>critical values</th>
      <th>best information criterion</th>
      <th>Significance</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>CPI</th>
      <td>-5.602</td>
      <td>0.000</td>
      <td>5.000</td>
      <td>53.000</td>
      <td>{'1%': -3.560242358792829, '5%': -2.9178502070...</td>
      <td>-140.430</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#put the new CPI back </span>
<span class="c1">#CPI_second</span>

<span class="n">all_differenced</span> <span class="o">=</span> <span class="n">df_differenced</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">all_differenced</span> <span class="o">=</span> <span class="n">all_differenced</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">:,:]</span>
<span class="n">all_differenced</span><span class="p">[</span><span class="s1">&#39;CPI&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">CPI_second</span>
<span class="n">all_differenced</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Google Trend Index</th>
      <th>Visitor Volume</th>
      <th>Average Daily Room Rate (ADR)</th>
      <th>CPI</th>
      <th>Unemployment Rate</th>
    </tr>
    <tr>
      <th>DATE</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018-03-01</th>
      <td>2.000</td>
      <td>0.689</td>
      <td>0.446</td>
      <td>-0.032</td>
      <td>-0.100</td>
    </tr>
    <tr>
      <th>2018-04-01</th>
      <td>-7.000</td>
      <td>-0.224</td>
      <td>-0.159</td>
      <td>0.024</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2018-05-01</th>
      <td>6.000</td>
      <td>0.092</td>
      <td>0.159</td>
      <td>0.003</td>
      <td>-0.200</td>
    </tr>
    <tr>
      <th>2018-06-01</th>
      <td>-2.000</td>
      <td>-0.072</td>
      <td>-0.573</td>
      <td>-0.036</td>
      <td>0.200</td>
    </tr>
    <tr>
      <th>2018-07-01</th>
      <td>6.000</td>
      <td>0.105</td>
      <td>0.095</td>
      <td>-0.022</td>
      <td>-0.200</td>
    </tr>
    <tr>
      <th>2018-08-01</th>
      <td>-7.000</td>
      <td>-0.116</td>
      <td>-0.095</td>
      <td>0.007</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2018-09-01</th>
      <td>-9.000</td>
      <td>-0.109</td>
      <td>0.637</td>
      <td>0.009</td>
      <td>-0.100</td>
    </tr>
    <tr>
      <th>2018-10-01</th>
      <td>-1.000</td>
      <td>0.248</td>
      <td>0.191</td>
      <td>0.009</td>
      <td>0.100</td>
    </tr>
    <tr>
      <th>2018-11-01</th>
      <td>-3.000</td>
      <td>-0.225</td>
      <td>-0.446</td>
      <td>-0.073</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2018-12-01</th>
      <td>2.000</td>
      <td>-0.235</td>
      <td>-0.255</td>
      <td>0.002</td>
      <td>0.100</td>
    </tr>
    <tr>
      <th>2019-01-01</th>
      <td>4.000</td>
      <td>0.161</td>
      <td>1.163</td>
      <td>0.072</td>
      <td>0.100</td>
    </tr>
    <tr>
      <th>2019-02-01</th>
      <td>6.000</td>
      <td>-0.247</td>
      <td>-0.843</td>
      <td>0.033</td>
      <td>-0.200</td>
    </tr>
    <tr>
      <th>2019-03-01</th>
      <td>4.000</td>
      <td>0.564</td>
      <td>0.124</td>
      <td>0.020</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2019-04-01</th>
      <td>-4.000</td>
      <td>-0.173</td>
      <td>-0.113</td>
      <td>-0.004</td>
      <td>-0.200</td>
    </tr>
    <tr>
      <th>2019-05-01</th>
      <td>0.000</td>
      <td>0.166</td>
      <td>0.322</td>
      <td>-0.045</td>
      <td>0.100</td>
    </tr>
    <tr>
      <th>2019-06-01</th>
      <td>3.000</td>
      <td>-0.093</td>
      <td>-0.639</td>
      <td>-0.028</td>
      <td>-0.100</td>
    </tr>
    <tr>
      <th>2019-07-01</th>
      <td>6.000</td>
      <td>0.087</td>
      <td>0.207</td>
      <td>0.021</td>
      <td>0.100</td>
    </tr>
    <tr>
      <th>2019-08-01</th>
      <td>-9.000</td>
      <td>-0.119</td>
      <td>-0.190</td>
      <td>-0.025</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2019-09-01</th>
      <td>-5.000</td>
      <td>-0.115</td>
      <td>0.514</td>
      <td>0.012</td>
      <td>-0.200</td>
    </tr>
    <tr>
      <th>2019-10-01</th>
      <td>-4.000</td>
      <td>0.214</td>
      <td>-0.057</td>
      <td>0.022</td>
      <td>0.100</td>
    </tr>
    <tr>
      <th>2019-11-01</th>
      <td>-3.000</td>
      <td>-0.176</td>
      <td>-0.012</td>
      <td>-0.041</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2019-12-01</th>
      <td>0.000</td>
      <td>-0.049</td>
      <td>-0.314</td>
      <td>-0.005</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2020-01-01</th>
      <td>11.000</td>
      <td>0.088</td>
      <td>0.901</td>
      <td>0.069</td>
      <td>-0.100</td>
    </tr>
    <tr>
      <th>2020-02-01</th>
      <td>-2.000</td>
      <td>-0.236</td>
      <td>-0.675</td>
      <td>-0.016</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2020-03-01</th>
      <td>-11.000</td>
      <td>-2.005</td>
      <td>0.354</td>
      <td>-0.071</td>
      <td>0.900</td>
    </tr>
    <tr>
      <th>2020-04-01</th>
      <td>-29.000</td>
      <td>-1.585</td>
      <td>-2.636</td>
      <td>-0.065</td>
      <td>10.300</td>
    </tr>
    <tr>
      <th>2020-05-01</th>
      <td>9.000</td>
      <td>0.049</td>
      <td>0.006</td>
      <td>0.097</td>
      <td>-1.500</td>
    </tr>
    <tr>
      <th>2020-06-01</th>
      <td>18.000</td>
      <td>1.017</td>
      <td>1.381</td>
      <td>0.079</td>
      <td>-2.200</td>
    </tr>
    <tr>
      <th>2020-07-01</th>
      <td>-3.000</td>
      <td>0.415</td>
      <td>0.010</td>
      <td>-0.006</td>
      <td>-0.800</td>
    </tr>
    <tr>
      <th>2020-08-01</th>
      <td>-8.000</td>
      <td>0.111</td>
      <td>-0.164</td>
      <td>-0.027</td>
      <td>-1.800</td>
    </tr>
    <tr>
      <th>2020-09-01</th>
      <td>8.000</td>
      <td>0.186</td>
      <td>0.283</td>
      <td>-0.026</td>
      <td>-0.500</td>
    </tr>
    <tr>
      <th>2020-10-01</th>
      <td>4.000</td>
      <td>0.170</td>
      <td>-0.114</td>
      <td>-0.014</td>
      <td>-1.000</td>
    </tr>
    <tr>
      <th>2020-11-01</th>
      <td>-14.000</td>
      <td>-0.381</td>
      <td>-0.335</td>
      <td>-0.015</td>
      <td>-0.200</td>
    </tr>
    <tr>
      <th>2020-12-01</th>
      <td>1.000</td>
      <td>-0.297</td>
      <td>0.194</td>
      <td>0.023</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2021-01-01</th>
      <td>1.000</td>
      <td>0.052</td>
      <td>-0.299</td>
      <td>0.049</td>
      <td>-0.400</td>
    </tr>
    <tr>
      <th>2021-02-01</th>
      <td>12.000</td>
      <td>0.274</td>
      <td>0.233</td>
      <td>0.018</td>
      <td>-0.100</td>
    </tr>
    <tr>
      <th>2021-03-01</th>
      <td>15.000</td>
      <td>0.768</td>
      <td>0.066</td>
      <td>0.024</td>
      <td>-0.100</td>
    </tr>
    <tr>
      <th>2021-04-01</th>
      <td>0.000</td>
      <td>0.382</td>
      <td>0.294</td>
      <td>0.018</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2021-05-01</th>
      <td>10.000</td>
      <td>0.339</td>
      <td>0.552</td>
      <td>-0.002</td>
      <td>-0.300</td>
    </tr>
    <tr>
      <th>2021-06-01</th>
      <td>5.000</td>
      <td>0.103</td>
      <td>0.039</td>
      <td>0.020</td>
      <td>0.100</td>
    </tr>
    <tr>
      <th>2021-07-01</th>
      <td>1.000</td>
      <td>0.369</td>
      <td>0.771</td>
      <td>-0.067</td>
      <td>-0.500</td>
    </tr>
    <tr>
      <th>2021-08-01</th>
      <td>-16.000</td>
      <td>-0.338</td>
      <td>-0.376</td>
      <td>-0.042</td>
      <td>-0.200</td>
    </tr>
    <tr>
      <th>2021-09-01</th>
      <td>-4.000</td>
      <td>-0.070</td>
      <td>0.493</td>
      <td>0.010</td>
      <td>-0.400</td>
    </tr>
    <tr>
      <th>2021-10-01</th>
      <td>1.000</td>
      <td>0.506</td>
      <td>0.569</td>
      <td>0.086</td>
      <td>-0.300</td>
    </tr>
    <tr>
      <th>2021-11-01</th>
      <td>-1.000</td>
      <td>-0.309</td>
      <td>-0.565</td>
      <td>-0.052</td>
      <td>-0.300</td>
    </tr>
    <tr>
      <th>2021-12-01</th>
      <td>-2.000</td>
      <td>-0.120</td>
      <td>-0.161</td>
      <td>-0.028</td>
      <td>-0.300</td>
    </tr>
    <tr>
      <th>2022-01-01</th>
      <td>2.000</td>
      <td>-0.589</td>
      <td>-0.180</td>
      <td>0.084</td>
      <td>0.100</td>
    </tr>
    <tr>
      <th>2022-02-01</th>
      <td>9.000</td>
      <td>0.158</td>
      <td>0.137</td>
      <td>0.012</td>
      <td>-0.200</td>
    </tr>
    <tr>
      <th>2022-03-01</th>
      <td>-1.000</td>
      <td>0.799</td>
      <td>0.434</td>
      <td>0.069</td>
      <td>-0.200</td>
    </tr>
    <tr>
      <th>2022-04-01</th>
      <td>-6.000</td>
      <td>0.053</td>
      <td>0.440</td>
      <td>-0.123</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2022-05-01</th>
      <td>-4.000</td>
      <td>0.072</td>
      <td>-0.039</td>
      <td>0.089</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2022-06-01</th>
      <td>1.000</td>
      <td>-0.136</td>
      <td>-0.600</td>
      <td>0.047</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2022-07-01</th>
      <td>7.000</td>
      <td>0.186</td>
      <td>0.112</td>
      <td>-0.228</td>
      <td>-0.100</td>
    </tr>
    <tr>
      <th>2022-08-01</th>
      <td>0.000</td>
      <td>-0.335</td>
      <td>-0.393</td>
      <td>-0.004</td>
      <td>0.200</td>
    </tr>
    <tr>
      <th>2022-09-01</th>
      <td>-10.000</td>
      <td>0.183</td>
      <td>1.244</td>
      <td>0.042</td>
      <td>-0.200</td>
    </tr>
    <tr>
      <th>2022-10-01</th>
      <td>0.000</td>
      <td>0.316</td>
      <td>0.723</td>
      <td>0.032</td>
      <td>0.200</td>
    </tr>
    <tr>
      <th>2022-11-01</th>
      <td>-9.000</td>
      <td>-0.416</td>
      <td>-0.745</td>
      <td>-0.085</td>
      <td>-0.100</td>
    </tr>
    <tr>
      <th>2022-12-01</th>
      <td>7.000</td>
      <td>0.046</td>
      <td>-0.311</td>
      <td>-0.034</td>
      <td>-0.100</td>
    </tr>
    <tr>
      <th>2023-01-01</th>
      <td>4.000</td>
      <td>-0.035</td>
      <td>0.475</td>
      <td>0.185</td>
      <td>-0.100</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="find-optimal-order-p">
<h2>8. Find optimal order (p)<a class="headerlink" href="#find-optimal-order-p" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">VAR</span><span class="p">(</span><span class="n">all_differenced</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">select_order</span><span class="p">(</span><span class="n">maxlags</span> <span class="o">=</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><table class="simpletable">
<caption>VAR Order Selection (* highlights the minimums)</caption>
<tr>
  <td></td>      <th>AIC</th>         <th>BIC</th>         <th>FPE</th>        <th>HQIC</th>    
</tr>
<tr>
  <th>0</th> <td>    -4.437</td>  <td>    -4.247*</td> <td>   0.01183</td>  <td>    -4.365</td> 
</tr>
<tr>
  <th>1</th> <td>    -5.076</td>  <td>    -3.940</td>  <td>  0.006277</td>  <td>    -4.642*</td>
</tr>
<tr>
  <th>2</th> <td>    -5.232</td>  <td>    -3.149</td>  <td>  0.005530*</td> <td>    -4.436</td> 
</tr>
<tr>
  <th>3</th> <td>    -5.197</td>  <td>    -2.167</td>  <td>  0.006172</td>  <td>    -4.039</td> 
</tr>
<tr>
  <th>4</th> <td>    -5.225</td>  <td>    -1.248</td>  <td>  0.006974</td>  <td>    -3.705</td> 
</tr>
<tr>
  <th>5</th> <td>    -5.467</td>  <td>   -0.5428</td>  <td>  0.007152</td>  <td>    -3.585</td> 
</tr>
<tr>
  <th>6</th> <td>    -5.549</td>  <td>    0.3218</td>  <td>   0.01033</td>  <td>    -3.306</td> 
</tr>
<tr>
  <th>7</th> <td>    -5.838</td>  <td>    0.9802</td>  <td>   0.01645</td>  <td>    -3.233</td> 
</tr>
<tr>
  <th>8</th> <td>    -7.250*</td> <td>    0.5156</td>  <td>   0.01510</td>  <td>    -4.282</td> 
</tr>
</table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">selected_orders</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;aic&#39;: 8, &#39;bic&#39;: 0, &#39;hqic&#39;: 1, &#39;fpe&#39;: 2}
</pre></div>
</div>
</div>
</div>
</section>
<section id="train-the-model-of-selected-order-p">
<h2>9. Train the model of Selected Order (p)<a class="headerlink" href="#train-the-model-of-selected-order-p" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_fitted</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="n">model_fitted</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:30
--------------------------------------------------------------------
No. of Equations:         5.00000    BIC:                   0.515608
Nobs:                     51.0000    HQIC:                  -4.28227
Log likelihood:           28.0348    FPE:                  0.0151044
AIC:                     -7.24957    Det(Omega_mle):     0.000790704
--------------------------------------------------------------------
Results for equation Google Trend Index
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.410035         1.406452            0.292           0.771
L1.Google Trend Index                    0.005870         0.399815            0.015           0.988
L1.Visitor Volume                       10.035387         4.491908            2.234           0.025
L1.Average Daily Room Rate (ADR)        -9.280642         4.528390           -2.049           0.040
L1.CPI                                  26.066504        50.862579            0.512           0.608
L1.Unemployment Rate                     2.677497         2.877610            0.930           0.352
L2.Google Trend Index                   -0.251914         0.401301           -0.628           0.530
L2.Visitor Volume                       18.908208        14.182132            1.333           0.182
L2.Average Daily Room Rate (ADR)       -10.643956         7.456218           -1.428           0.153
L2.CPI                                 -84.112991        58.218116           -1.445           0.149
L2.Unemployment Rate                    -3.484508         2.777873           -1.254           0.210
L3.Google Trend Index                   -0.129477         0.444172           -0.292           0.771
L3.Visitor Volume                      -19.077949        15.466399           -1.234           0.217
L3.Average Daily Room Rate (ADR)         7.192680         9.103446            0.790           0.429
L3.CPI                                 -49.587881        60.663208           -0.817           0.414
L3.Unemployment Rate                    -1.126351         3.006223           -0.375           0.708
L4.Google Trend Index                    0.975413         0.647369            1.507           0.132
L4.Visitor Volume                        0.876179        13.133464            0.067           0.947
L4.Average Daily Room Rate (ADR)        -1.197092         7.232283           -0.166           0.869
L4.CPI                                 -89.999304        60.807466           -1.480           0.139
L4.Unemployment Rate                     1.549271         3.252287            0.476           0.634
L5.Google Trend Index                   -0.454882         0.562585           -0.809           0.419
L5.Visitor Volume                        1.527550        13.360556            0.114           0.909
L5.Average Daily Room Rate (ADR)         8.751472         6.704038            1.305           0.192
L5.CPI                                 -33.293876        60.974408           -0.546           0.585
L5.Unemployment Rate                    -3.643548         3.349614           -1.088           0.277
L6.Google Trend Index                    0.476093         0.501655            0.949           0.343
L6.Visitor Volume                      -24.620313        17.295550           -1.424           0.155
L6.Average Daily Room Rate (ADR)         8.181529         8.948613            0.914           0.361
L6.CPI                                 -92.608245        70.771300           -1.309           0.191
L6.Unemployment Rate                    -1.099318         3.389145           -0.324           0.746
L7.Google Trend Index                    0.172803         0.465039            0.372           0.710
L7.Visitor Volume                       -1.698708        18.972209           -0.090           0.929
L7.Average Daily Room Rate (ADR)        -6.492274         7.252542           -0.895           0.371
L7.CPI                                 -35.738321        66.400841           -0.538           0.590
L7.Unemployment Rate                    -5.937248         3.448832           -1.722           0.085
L8.Google Trend Index                    0.112063         0.442728            0.253           0.800
L8.Visitor Volume                       -7.894743        12.698493           -0.622           0.534
L8.Average Daily Room Rate (ADR)         7.062612         6.664380            1.060           0.289
L8.CPI                                 -61.416610        51.746792           -1.187           0.235
L8.Unemployment Rate                     0.472727         2.103812            0.225           0.822
===================================================================================================

Results for equation Visitor Volume
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.058927         0.092961            0.634           0.526
L1.Google Trend Index                    0.020828         0.026426            0.788           0.431
L1.Visitor Volume                        0.641859         0.296898            2.162           0.031
L1.Average Daily Room Rate (ADR)        -0.668145         0.299309           -2.232           0.026
L1.CPI                                   5.851454         3.361818            1.741           0.082
L1.Unemployment Rate                     0.270627         0.190199            1.423           0.155
L2.Google Trend Index                   -0.060233         0.026524           -2.271           0.023
L2.Visitor Volume                        1.738212         0.937384            1.854           0.064
L2.Average Daily Room Rate (ADR)        -0.833441         0.492827           -1.691           0.091
L2.CPI                                  -4.691962         3.847991           -1.219           0.223
L2.Unemployment Rate                    -0.330188         0.183607           -1.798           0.072
L3.Google Trend Index                    0.018288         0.029358            0.623           0.533
L3.Visitor Volume                       -1.082339         1.022269           -1.059           0.290
L3.Average Daily Room Rate (ADR)         0.119203         0.601702            0.198           0.843
L3.CPI                                  -4.048296         4.009602           -1.010           0.313
L3.Unemployment Rate                    -0.058147         0.198700           -0.293           0.770
L4.Google Trend Index                    0.058912         0.042789            1.377           0.169
L4.Visitor Volume                       -0.221610         0.868071           -0.255           0.798
L4.Average Daily Room Rate (ADR)        -0.393313         0.478026           -0.823           0.411
L4.CPI                                  -5.276802         4.019137           -1.313           0.189
L4.Unemployment Rate                     0.136111         0.214964            0.633           0.527
L5.Google Trend Index                   -0.008843         0.037185           -0.238           0.812
L5.Visitor Volume                        0.614974         0.883081            0.696           0.486
L5.Average Daily Room Rate (ADR)         0.448006         0.443111            1.011           0.312
L5.CPI                                  -1.421932         4.030171           -0.353           0.724
L5.Unemployment Rate                     0.134765         0.221396            0.609           0.543
L6.Google Trend Index                    0.019500         0.033157            0.588           0.556
L6.Visitor Volume                       -0.089222         1.143169           -0.078           0.938
L6.Average Daily Room Rate (ADR)         0.229519         0.591468            0.388           0.698
L6.CPI                                  -6.608550         4.677707           -1.413           0.158
L6.Unemployment Rate                     0.039464         0.224009            0.176           0.860
L7.Google Trend Index                    0.013121         0.030737            0.427           0.669
L7.Visitor Volume                       -0.388948         1.253989           -0.310           0.756
L7.Average Daily Room Rate (ADR)        -0.255967         0.479365           -0.534           0.593
L7.CPI                                  -0.571255         4.388837           -0.130           0.896
L7.Unemployment Rate                    -0.337262         0.227954           -1.480           0.139
L8.Google Trend Index                   -0.003245         0.029263           -0.111           0.912
L8.Visitor Volume                       -0.917526         0.839321           -1.093           0.274
L8.Average Daily Room Rate (ADR)         0.769587         0.440490            1.747           0.081
L8.CPI                                  -6.419411         3.420261           -1.877           0.061
L8.Unemployment Rate                    -0.078823         0.139054           -0.567           0.571
===================================================================================================

Results for equation Average Daily Room Rate (ADR)
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.184358         0.109586            1.682           0.093
L1.Google Trend Index                    0.011519         0.031152            0.370           0.712
L1.Visitor Volume                        1.127674         0.349995            3.222           0.001
L1.Average Daily Room Rate (ADR)        -1.394139         0.352838           -3.951           0.000
L1.CPI                                   0.786553         3.963053            0.198           0.843
L1.Unemployment Rate                    -0.158056         0.224214           -0.705           0.481
L2.Google Trend Index                   -0.014032         0.031268           -0.449           0.654
L2.Visitor Volume                        0.372351         1.105027            0.337           0.736
L2.Average Daily Room Rate (ADR)        -0.496255         0.580965           -0.854           0.393
L2.CPI                                  -1.623701         4.536174           -0.358           0.720
L2.Unemployment Rate                     0.103551         0.216443            0.478           0.632
L3.Google Trend Index                    0.013384         0.034609            0.387           0.699
L3.Visitor Volume                        0.644313         1.205093            0.535           0.593
L3.Average Daily Room Rate (ADR)        -0.521198         0.709312           -0.735           0.462
L3.CPI                                  -1.269709         4.726687           -0.269           0.788
L3.Unemployment Rate                     0.195303         0.234235            0.834           0.404
L4.Google Trend Index                   -0.024300         0.050441           -0.482           0.630
L4.Visitor Volume                        0.637095         1.023318            0.623           0.534
L4.Average Daily Room Rate (ADR)        -0.223560         0.563517           -0.397           0.692
L4.CPI                                   2.172319         4.737928            0.458           0.647
L4.Unemployment Rate                     0.211612         0.253408            0.835           0.404
L5.Google Trend Index                   -0.027689         0.043835           -0.632           0.528
L5.Visitor Volume                        0.847673         1.041013            0.814           0.415
L5.Average Daily Room Rate (ADR)        -0.328854         0.522358           -0.630           0.529
L5.CPI                                   3.904304         4.750935            0.822           0.411
L5.Unemployment Rate                     0.319177         0.260991            1.223           0.221
L6.Google Trend Index                   -0.050142         0.039087           -1.283           0.200
L6.Visitor Volume                        1.660452         1.347615            1.232           0.218
L6.Average Daily Room Rate (ADR)        -0.712196         0.697248           -1.021           0.307
L6.CPI                                   3.458908         5.514278            0.627           0.530
L6.Unemployment Rate                     0.358277         0.264072            1.357           0.175
L7.Google Trend Index                   -0.043880         0.036234           -1.211           0.226
L7.Visitor Volume                        2.016214         1.478255            1.364           0.173
L7.Average Daily Room Rate (ADR)        -0.747189         0.565095           -1.322           0.186
L7.CPI                                   3.360346         5.173746            0.649           0.516
L7.Unemployment Rate                     0.085428         0.268722            0.318           0.751
L8.Google Trend Index                   -0.030045         0.034496           -0.871           0.384
L8.Visitor Volume                        0.460586         0.989427            0.466           0.642
L8.Average Daily Room Rate (ADR)        -0.042159         0.519268           -0.081           0.935
L8.CPI                                  -1.692741         4.031948           -0.420           0.675
L8.Unemployment Rate                     0.047843         0.163922            0.292           0.770
===================================================================================================

Results for equation CPI
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                   -0.004747         0.011359           -0.418           0.676
L1.Google Trend Index                    0.005459         0.003229            1.691           0.091
L1.Visitor Volume                       -0.005551         0.036278           -0.153           0.878
L1.Average Daily Room Rate (ADR)        -0.009415         0.036573           -0.257           0.797
L1.CPI                                  -0.134783         0.410786           -0.328           0.743
L1.Unemployment Rate                     0.017299         0.023241            0.744           0.457
L2.Google Trend Index                   -0.000001         0.003241           -0.000           1.000
L2.Visitor Volume                        0.048284         0.114540            0.422           0.673
L2.Average Daily Room Rate (ADR)        -0.003620         0.060219           -0.060           0.952
L2.CPI                                  -0.929045         0.470192           -1.976           0.048
L2.Unemployment Rate                    -0.025073         0.022435           -1.118           0.264
L3.Google Trend Index                    0.001270         0.003587            0.354           0.723
L3.Visitor Volume                       -0.169896         0.124913           -1.360           0.174
L3.Average Daily Room Rate (ADR)         0.103682         0.073523            1.410           0.158
L3.CPI                                  -0.238559         0.489940           -0.487           0.626
L3.Unemployment Rate                    -0.017743         0.024279           -0.731           0.465
L4.Google Trend Index                    0.008504         0.005228            1.626           0.104
L4.Visitor Volume                       -0.128967         0.106071           -1.216           0.224
L4.Average Daily Room Rate (ADR)         0.026489         0.058411            0.453           0.650
L4.CPI                                  -0.475413         0.491105           -0.968           0.333
L4.Unemployment Rate                     0.009198         0.026267            0.350           0.726
L5.Google Trend Index                   -0.002903         0.004544           -0.639           0.523
L5.Visitor Volume                        0.003901         0.107905            0.036           0.971
L5.Average Daily Room Rate (ADR)         0.039590         0.054144            0.731           0.465
L5.CPI                                   0.113400         0.492453            0.230           0.818
L5.Unemployment Rate                    -0.030747         0.027053           -1.137           0.256
L6.Google Trend Index                    0.002270         0.004052            0.560           0.575
L6.Visitor Volume                       -0.089649         0.139686           -0.642           0.521
L6.Average Daily Room Rate (ADR)         0.049465         0.072272            0.684           0.494
L6.CPI                                  -0.789771         0.571577           -1.382           0.167
L6.Unemployment Rate                     0.001619         0.027372            0.059           0.953
L7.Google Trend Index                    0.002608         0.003756            0.694           0.487
L7.Visitor Volume                        0.010696         0.153227            0.070           0.944
L7.Average Daily Room Rate (ADR)        -0.051357         0.058574           -0.877           0.381
L7.CPI                                  -0.097513         0.536279           -0.182           0.856
L7.Unemployment Rate                    -0.022189         0.027854           -0.797           0.426
L8.Google Trend Index                    0.002303         0.003576            0.644           0.520
L8.Visitor Volume                       -0.083798         0.102558           -0.817           0.414
L8.Average Daily Room Rate (ADR)         0.071251         0.053824            1.324           0.186
L8.CPI                                  -0.133183         0.417927           -0.319           0.750
L8.Unemployment Rate                     0.019033         0.016991            1.120           0.263
===================================================================================================

Results for equation Unemployment Rate
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.011124         0.143801            0.077           0.938
L1.Google Trend Index                    0.011450         0.040879            0.280           0.779
L1.Visitor Volume                       -4.113256         0.459270           -8.956           0.000
L1.Average Daily Room Rate (ADR)         1.327073         0.463000            2.866           0.004
L1.CPI                                  -8.471917         5.200382           -1.629           0.103
L1.Unemployment Rate                    -0.741062         0.294218           -2.519           0.012
L2.Google Trend Index                    0.083326         0.041031            2.031           0.042
L2.Visitor Volume                       -2.929718         1.450035           -2.020           0.043
L2.Average Daily Room Rate (ADR)         0.504587         0.762352            0.662           0.508
L2.CPI                                  12.533193         5.952440            2.106           0.035
L2.Unemployment Rate                     0.318595         0.284020            1.122           0.262
L3.Google Trend Index                    0.025215         0.045414            0.555           0.579
L3.Visitor Volume                        3.090137         1.581343            1.954           0.051
L3.Average Daily Room Rate (ADR)        -1.450514         0.930771           -1.558           0.119
L3.CPI                                   2.618104         6.202435            0.422           0.673
L3.Unemployment Rate                    -0.148488         0.307368           -0.483           0.629
L4.Google Trend Index                   -0.139344         0.066189           -2.105           0.035
L4.Visitor Volume                       -1.351309         1.342815           -1.006           0.314
L4.Average Daily Room Rate (ADR)         0.612487         0.739456            0.828           0.408
L4.CPI                                  11.104696         6.217185            1.786           0.074
L4.Unemployment Rate                    -0.913761         0.332526           -2.748           0.006
L5.Google Trend Index                    0.143103         0.057521            2.488           0.013
L5.Visitor Volume                       -2.893094         1.366034           -2.118           0.034
L5.Average Daily Room Rate (ADR)        -1.143588         0.685446           -1.668           0.095
L5.CPI                                   5.738302         6.234254            0.920           0.357
L5.Unemployment Rate                     0.477645         0.342477            1.395           0.163
L6.Google Trend Index                   -0.096675         0.051291           -1.885           0.059
L6.Visitor Volume                        3.607702         1.768362            2.040           0.041
L6.Average Daily Room Rate (ADR)        -1.349623         0.914940           -1.475           0.140
L6.CPI                                  17.717788         7.235925            2.449           0.014
L6.Unemployment Rate                    -0.158711         0.346519           -0.458           0.647
L7.Google Trend Index                   -0.051211         0.047547           -1.077           0.281
L7.Visitor Volume                        0.447582         1.939790            0.231           0.818
L7.Average Daily Room Rate (ADR)         0.077056         0.741527            0.104           0.917
L7.CPI                                   9.038448         6.789073            1.331           0.183
L7.Unemployment Rate                     0.797560         0.352622            2.262           0.024
L8.Google Trend Index                   -0.046028         0.045266           -1.017           0.309
L8.Visitor Volume                        3.540963         1.298342            2.727           0.006
L8.Average Daily Room Rate (ADR)        -2.667656         0.681391           -3.915           0.000
L8.CPI                                   2.304243         5.290787            0.436           0.663
L8.Unemployment Rate                    -0.447450         0.215102           -2.080           0.038
===================================================================================================

Correlation matrix of residuals
                                 Google Trend Index  Visitor Volume  Average Daily Room Rate (ADR)       CPI  Unemployment Rate
Google Trend Index                         1.000000        0.441500                       0.343488  0.458201          -0.576830
Visitor Volume                             0.441500        1.000000                       0.378825  0.466820          -0.223186
Average Daily Room Rate (ADR)              0.343488        0.378825                       1.000000  0.408126          -0.499279
CPI                                        0.458201        0.466820                       0.408126  1.000000          -0.544872
Unemployment Rate                         -0.576830       -0.223186                      -0.499279 -0.544872           1.000000
</pre></div>
</div>
</div>
</div>
<p><a class="reference external" href="https://www.youtube.com/watch?v=TpQtD7ONfxQ">https://www.youtube.com/watch?v=TpQtD7ONfxQ</a></p>
</section>
<section id="check-for-serial-correlation-of-residuals-using-durbin-watson-statistic">
<h2>10. Check for serial Correlation of Residuals using Durbin Watson Statistic<a class="headerlink" href="#check-for-serial-correlation-of-residuals-using-durbin-watson-statistic" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">statsmodels.stats.stattools</span> <span class="kn">import</span> <span class="n">durbin_watson</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">durbin_watson</span><span class="p">(</span><span class="n">model_fitted</span><span class="o">.</span><span class="n">resid</span><span class="p">)</span>  <span class="c1">#Residuals of response variable resulting from estimated coefficients</span>
<span class="n">out</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1.7555842 , 1.53950947, 1.71539114, 1.72416996, 1.91597751])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">all_differenced</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">out</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Google Trend Index : 1.76
Visitor Volume : 1.54
Average Daily Room Rate (ADR) : 1.72
CPI : 1.72
Unemployment Rate : 1.92
</pre></div>
</div>
</div>
</div>
</section>
<section id="forecast">
<h2>11. Forecast<a class="headerlink" href="#forecast" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#get the lag order</span>
<span class="n">lag_order</span> <span class="o">=</span> <span class="n">model_fitted</span><span class="o">.</span><span class="n">k_ar</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;lag order: </span><span class="si">{</span><span class="n">lag_order</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>


<span class="c1">#input data for forecasting</span>
<span class="n">forecast_input</span> <span class="o">=</span> <span class="n">all_differenced</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="o">-</span><span class="n">lag_order</span><span class="p">:]</span>
<span class="n">forecast_input</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>lag order: 8
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[ 1.00000000e+00, -1.35871562e-01, -5.99709162e-01,
         4.65717349e-02,  0.00000000e+00],
       [ 7.00000000e+00,  1.85613239e-01,  1.11729255e-01,
        -2.27796529e-01, -1.00000000e-01],
       [ 0.00000000e+00, -3.34949551e-01, -3.92803135e-01,
        -3.93722397e-03,  2.00000000e-01],
       [-1.00000000e+01,  1.83165103e-01,  1.24430102e+00,
         4.17345740e-02, -2.00000000e-01],
       [ 0.00000000e+00,  3.16032134e-01,  7.22897827e-01,
         3.18915141e-02,  2.00000000e-01],
       [-9.00000000e+00, -4.15849326e-01, -7.45180015e-01,
        -8.46503153e-02, -1.00000000e-01],
       [ 7.00000000e+00,  4.64033099e-02, -3.10995675e-01,
        -3.44788327e-02, -1.00000000e-01],
       [ 4.00000000e+00, -3.54979757e-02,  4.74610595e-01,
         1.84880788e-01, -1.00000000e-01]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Forecast</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">model_fitted</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">forecast_input</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="n">nobs</span><span class="p">)</span>
<span class="n">df_forecast</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="n">nobs</span><span class="p">:],</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">+</span> <span class="s1">&#39;_fc&#39;</span><span class="p">)</span>
<span class="n">df_forecast</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Google Trend Index_fc</th>
      <th>Visitor Volume_fc</th>
      <th>Average Daily Room Rate (ADR)_fc</th>
      <th>CPI_fc</th>
      <th>Unemployment Rate_fc</th>
    </tr>
    <tr>
      <th>DATE</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2023-02-01</th>
      <td>34.025</td>
      <td>1.182</td>
      <td>-0.985</td>
      <td>0.101</td>
      <td>-6.529</td>
    </tr>
    <tr>
      <th>2023-03-01</th>
      <td>0.229</td>
      <td>1.767</td>
      <td>4.086</td>
      <td>-0.074</td>
      <td>1.145</td>
    </tr>
    <tr>
      <th>2023-04-01</th>
      <td>9.459</td>
      <td>0.040</td>
      <td>-4.932</td>
      <td>0.075</td>
      <td>-4.110</td>
    </tr>
    <tr>
      <th>2023-05-01</th>
      <td>-15.978</td>
      <td>1.077</td>
      <td>7.487</td>
      <td>-0.070</td>
      <td>-0.255</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="revert-the-differenced-values">
<h2>12. Revert the differenced values<a class="headerlink" href="#revert-the-differenced-values" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">de_defference</span><span class="p">(</span><span class="n">col_name</span><span class="p">,</span> <span class="n">df_train</span><span class="p">,</span> <span class="n">df_forecast</span><span class="p">,</span> <span class="n">second_diff</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A function to revert back to difference values to the original scale.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df_fc</span> <span class="o">=</span> <span class="n">df_forecast</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">second_diff</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">df_fc</span><span class="p">[</span><span class="n">col_name</span><span class="o">+</span><span class="s1">&#39;_fc&#39;</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">df_train</span><span class="p">[</span><span class="n">loc_name</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">df_train</span><span class="p">[</span><span class="n">col_name</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span><span class="o">+</span><span class="n">df_fc</span><span class="p">[</span><span class="n">col_name</span><span class="o">+</span><span class="s1">&#39;_fc&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span>
    
    <span class="n">df_fc</span><span class="p">[</span><span class="n">col_name</span><span class="o">+</span><span class="s2">&quot;_forecast&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_train</span><span class="p">[</span><span class="n">col_name</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">df_fc</span><span class="p">[</span><span class="n">col_name</span><span class="o">+</span><span class="s1">&#39;_fc&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span>
    
    <span class="k">return</span> <span class="n">df_fc</span><span class="p">[</span><span class="n">col_name</span><span class="o">+</span><span class="s2">&quot;_forecast&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
    
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_result</span> <span class="o">=</span> <span class="n">de_defference</span><span class="p">(</span><span class="s1">&#39;Google Trend Index&#39;</span><span class="p">,</span> <span class="n">df_train</span><span class="p">,</span><span class="n">df_forecast</span><span class="p">)</span>
<span class="n">df_result</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Google Trend Index_forecast</th>
    </tr>
    <tr>
      <th>DATE</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2023-02-01</th>
      <td>112.025</td>
    </tr>
    <tr>
      <th>2023-03-01</th>
      <td>112.254</td>
    </tr>
    <tr>
      <th>2023-04-01</th>
      <td>121.713</td>
    </tr>
    <tr>
      <th>2023-05-01</th>
      <td>105.735</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">df_result</span><span class="p">[</span><span class="s1">&#39;Google Trend Index_forecast&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_test</span><span class="p">[</span><span class="s1">&#39;Google Trend Index&#39;</span><span class="p">][</span><span class="o">-</span><span class="n">nobs</span><span class="p">:]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axes</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Forecaset vs Actual&quot;</span><span class="p">)</span>

<span class="p">;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;&#39;
</pre></div>
</div>
<img alt="../../_images/592b4e2cc62aa8642c6995bcbf612cf4d869745db6071059d9f8b077a7b5757e.png" src="../../_images/592b4e2cc62aa8642c6995bcbf612cf4d869745db6071059d9f8b077a7b5757e.png" />
</div>
</div>
</section>
<section id="evaluate-the-model">
<h2>12. Evaluate the model<a class="headerlink" href="#evaluate-the-model" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Root Mean Squared Error (RMSE)</p></li>
<li><p>Mean Absolute Error(MAE)</p></li>
<li><p>Mean Squiared Error (MSE)</p></li>
<li><p>Mean Absolute Percentage Error (MAPE)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">statsmodels.tools.eval_measures</span> <span class="kn">import</span> <span class="n">rmse</span><span class="p">,</span> <span class="n">meanabs</span><span class="p">,</span> <span class="n">mse</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_absolute_percentage_error</span> <span class="k">as</span> <span class="n">mape</span>
<span class="n">measures</span> <span class="o">=</span> <span class="p">[</span><span class="n">rmse</span><span class="p">,</span> <span class="n">meanabs</span><span class="p">,</span> <span class="n">mse</span><span class="p">,</span> <span class="n">mape</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Create a function to show the dataframe of the result for a given model</span>
<span class="k">def</span> <span class="nf">eval_summary</span><span class="p">(</span><span class="n">model_name</span><span class="p">,</span> <span class="n">df_result</span><span class="p">,</span> <span class="n">df_test</span><span class="p">):</span>
    <span class="n">fc_google_trend</span> <span class="o">=</span> <span class="n">df_result</span><span class="p">[</span><span class="s1">&#39;Google Trend Index_forecast&#39;</span><span class="p">]</span>
    <span class="n">actual_google_trend</span> <span class="o">=</span> <span class="n">df_test</span><span class="p">[</span><span class="s1">&#39;Google Trend Index&#39;</span><span class="p">][</span><span class="o">-</span><span class="n">nobs</span><span class="p">:]</span>
    <span class="n">evaluations</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;RMSE&#39;</span><span class="p">:[],</span> <span class="s1">&#39;MAE&#39;</span><span class="p">:[],</span><span class="s1">&#39;MSE&#39;</span><span class="p">:[],</span><span class="s1">&#39;MAPE&#39;</span><span class="p">:[]}</span>
    
    <span class="k">for</span> <span class="n">m</span><span class="p">,</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">measures</span><span class="p">,</span> <span class="n">evaluations</span><span class="p">):</span>
        <span class="n">measure</span> <span class="o">=</span> <span class="n">m</span><span class="p">(</span><span class="n">fc_google_trend</span><span class="p">,</span> <span class="n">actual_google_trend</span><span class="p">)</span>
        <span class="n">evaluations</span><span class="p">[</span><span class="n">e</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">measure</span><span class="p">)</span>
    
    <span class="n">evaluations</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;Model_name&#39;</span><span class="p">:[]})</span>
    <span class="n">evaluations</span><span class="p">[</span><span class="s1">&#39;Model_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">model_name</span>
    
    <span class="n">summary</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">evaluations</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">summary</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eval_summary</span><span class="p">(</span><span class="s1">&#39;Model_1&#39;</span><span class="p">,</span> <span class="n">df_result</span><span class="p">,</span> <span class="n">df_test</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>35.689</td>
      <td>34.932</td>
      <td>1273.714</td>
      <td>0.307</td>
      <td>Model_1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="find-the-best-combination-of-input-variables">
<h2>13. Find the best combination of input variables<a class="headerlink" href="#find-the-best-combination-of-input-variables" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#create possible combinations of input variables</span>

<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">combinations</span>
<span class="n">input_vars</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">input_vars</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;Google Trend Index&#39;</span><span class="p">)</span>

<span class="n">combos</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_vars</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">combos</span><span class="o">+=</span><span class="nb">list</span><span class="p">(</span><span class="n">combinations</span><span class="p">(</span><span class="n">input_vars</span><span class="p">,</span><span class="n">n</span><span class="p">))</span>
    
<span class="n">variables_combos</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">combos</span><span class="p">:</span>
    <span class="n">variables_combos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">variables_combos</span><span class="p">)</span>
    
<span class="nb">len</span><span class="p">(</span><span class="n">variables_combos</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[&#39;Visitor Volume&#39;], [&#39;Average Daily Room Rate (ADR)&#39;], [&#39;CPI&#39;], [&#39;Unemployment Rate&#39;], [&#39;Visitor Volume&#39;, &#39;Average Daily Room Rate (ADR)&#39;], [&#39;Visitor Volume&#39;, &#39;CPI&#39;], [&#39;Visitor Volume&#39;, &#39;Unemployment Rate&#39;], [&#39;Average Daily Room Rate (ADR)&#39;, &#39;CPI&#39;], [&#39;Average Daily Room Rate (ADR)&#39;, &#39;Unemployment Rate&#39;], [&#39;CPI&#39;, &#39;Unemployment Rate&#39;], [&#39;Visitor Volume&#39;, &#39;Average Daily Room Rate (ADR)&#39;, &#39;CPI&#39;], [&#39;Visitor Volume&#39;, &#39;Average Daily Room Rate (ADR)&#39;, &#39;Unemployment Rate&#39;], [&#39;Visitor Volume&#39;, &#39;CPI&#39;, &#39;Unemployment Rate&#39;], [&#39;Average Daily Room Rate (ADR)&#39;, &#39;CPI&#39;, &#39;Unemployment Rate&#39;], [&#39;Visitor Volume&#39;, &#39;Average Daily Room Rate (ADR)&#39;, &#39;CPI&#39;, &#39;Unemployment Rate&#39;]]
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15
</pre></div>
</div>
</div>
</div>
<section id="repeat-the-process-from-8">
<h3>Repeat the process from 8<a class="headerlink" href="#repeat-the-process-from-8" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">variables_combos</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>

<span class="n">model_names</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">variables_combos</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)):</span>
    <span class="n">model_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;model_&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    
<span class="n">model_names</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;model_1&#39;,
 &#39;model_2&#39;,
 &#39;model_3&#39;,
 &#39;model_4&#39;,
 &#39;model_5&#39;,
 &#39;model_6&#39;,
 &#39;model_7&#39;,
 &#39;model_8&#39;,
 &#39;model_9&#39;,
 &#39;model_10&#39;,
 &#39;model_11&#39;,
 &#39;model_12&#39;,
 &#39;model_13&#39;,
 &#39;model_14&#39;,
 &#39;model_15&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tuples</span> <span class="o">=</span> <span class="p">[(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
          <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">model_names</span><span class="p">,</span> <span class="n">variables_combos</span><span class="p">))]</span>
<span class="n">all_models</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">tuples</span><span class="p">)</span>
<span class="n">all_models</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;model_1&#39;: [&#39;Visitor Volume&#39;],
 &#39;model_2&#39;: [&#39;Average Daily Room Rate (ADR)&#39;],
 &#39;model_3&#39;: [&#39;CPI&#39;],
 &#39;model_4&#39;: [&#39;Unemployment Rate&#39;],
 &#39;model_5&#39;: [&#39;Visitor Volume&#39;, &#39;Average Daily Room Rate (ADR)&#39;],
 &#39;model_6&#39;: [&#39;Visitor Volume&#39;, &#39;CPI&#39;],
 &#39;model_7&#39;: [&#39;Visitor Volume&#39;, &#39;Unemployment Rate&#39;],
 &#39;model_8&#39;: [&#39;Average Daily Room Rate (ADR)&#39;, &#39;CPI&#39;],
 &#39;model_9&#39;: [&#39;Average Daily Room Rate (ADR)&#39;, &#39;Unemployment Rate&#39;],
 &#39;model_10&#39;: [&#39;CPI&#39;, &#39;Unemployment Rate&#39;],
 &#39;model_11&#39;: [&#39;Visitor Volume&#39;, &#39;Average Daily Room Rate (ADR)&#39;, &#39;CPI&#39;],
 &#39;model_12&#39;: [&#39;Visitor Volume&#39;,
  &#39;Average Daily Room Rate (ADR)&#39;,
  &#39;Unemployment Rate&#39;],
 &#39;model_13&#39;: [&#39;Visitor Volume&#39;, &#39;CPI&#39;, &#39;Unemployment Rate&#39;],
 &#39;model_14&#39;: [&#39;Average Daily Room Rate (ADR)&#39;, &#39;CPI&#39;, &#39;Unemployment Rate&#39;],
 &#39;model_15&#39;: [&#39;Visitor Volume&#39;,
  &#39;Average Daily Room Rate (ADR)&#39;,
  &#39;CPI&#39;,
  &#39;Unemployment Rate&#39;]}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Function to find try all possible combos</span>
<span class="k">def</span> <span class="nf">build_VAR</span><span class="p">(</span><span class="n">model_name</span><span class="p">,</span><span class="n">differenced_df</span><span class="o">=</span><span class="n">all_differenced</span><span class="p">):</span>
    
    <span class="c1">## Create a subset of dataframe with a given input variable combination ##</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">all_models</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">model_name</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;Google Trend Index&#39;</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="n">subset_df</span> <span class="o">=</span> <span class="n">differenced_df</span><span class="p">[</span><span class="n">b</span><span class="p">]</span>

    <span class="c1">## create a new VAR model with the selected variables ##</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">VAR</span><span class="p">(</span><span class="n">subset_df</span><span class="p">)</span>

    <span class="c1">## Find the optimal order (p) for a given VAR model ##</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">select_order</span><span class="p">(</span><span class="n">maxlags</span> <span class="o">=</span> <span class="mi">7</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
    <span class="n">selected_p</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">selected_orders</span><span class="p">[</span><span class="s1">&#39;aic&#39;</span><span class="p">]</span>

    <span class="c1">## Train the model with the selected order(p) ##</span>
    <span class="k">if</span> <span class="n">selected_p</span> <span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">model_fitted</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">selected_p</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span> <span class="n">model_fitted</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">model_fitted</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>


    <span class="c1">## Check for serial correlation of residuals using Durbin Watson Statistics ##</span>
    <span class="kn">from</span> <span class="nn">statsmodels.stats.stattools</span> <span class="kn">import</span> <span class="n">durbin_watson</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">durbin_watson</span><span class="p">(</span><span class="n">model_fitted</span><span class="o">.</span><span class="n">resid</span><span class="p">)</span>  <span class="c1">#Residuals of response variable resulting from estimated coefficients</span>
    
    <span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">/// The Durbin Watson Test ///&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">subset_df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">out</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>


    <span class="c1">## Forecast ##</span>
    <span class="n">lag_order</span> <span class="o">=</span> <span class="n">model_fitted</span><span class="o">.</span><span class="n">k_ar</span>

    <span class="c1">#input data for forecasting</span>
    <span class="n">forecast_input</span> <span class="o">=</span> <span class="n">subset_df</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="o">-</span><span class="n">lag_order</span><span class="p">:]</span>

    <span class="n">fc</span> <span class="o">=</span> <span class="n">model_fitted</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">forecast_input</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="n">nobs</span><span class="p">)</span>
    <span class="n">df_forecast</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="n">nobs</span><span class="p">:],</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">subset_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">+</span> <span class="s1">&#39;_fc&#39;</span><span class="p">)</span>
    <span class="n">df_forecast</span>


    <span class="c1">## Inverse the differenced values ##</span>
    <span class="n">df_result</span> <span class="o">=</span> <span class="n">de_defference</span><span class="p">(</span><span class="s1">&#39;Google Trend Index&#39;</span><span class="p">,</span> <span class="n">df_train</span><span class="p">,</span><span class="n">df_forecast</span><span class="p">)</span>
    <span class="n">df_result</span>

    <span class="c1">## Plot the result ##</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">df_result</span><span class="p">[</span><span class="s1">&#39;Google Trend Index_forecast&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">df_test</span><span class="p">[</span><span class="s1">&#39;Google Trend Index&#39;</span><span class="p">][</span><span class="o">-</span><span class="n">nobs</span><span class="p">:]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Forecaset vs Actual: </span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">106</span><span class="p">)</span>

    <span class="c1">## Evaluate the model</span>
    <span class="n">summary</span> <span class="o">=</span> <span class="n">eval_summary</span><span class="p">(</span><span class="n">model_name</span><span class="p">,</span> <span class="n">df_result</span><span class="p">,</span> <span class="n">df_test</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">summary</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_1</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s2">&quot;model_1&quot;</span><span class="p">)</span>
<span class="n">model_1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;Visitor Volume&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0       2.261      2.336*       9.596      2.290*
1       2.270       2.495       9.685       2.357
2      2.238*       2.613      9.386*       2.382
3       2.283       2.808       9.837       2.484
4       2.398       3.073       11.07       2.657
5       2.356       3.182       10.69       2.673
6       2.438       3.414       11.70       2.812
7       2.469       3.594       12.21       2.900
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:31
--------------------------------------------------------------------
No. of Equations:         2.00000    BIC:                    2.49470
Nobs:                     57.0000    HQIC:                   2.27557
Log likelihood:          -212.643    FPE:                    8.47548
AIC:                      2.13627    Det(Omega_mle):         7.16359
--------------------------------------------------------------------
Results for equation Google Trend Index
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                        -0.128336         1.011580           -0.127           0.899
L1.Google Trend Index         0.025674         0.165578            0.155           0.877
L1.Visitor Volume             3.727946         2.997797            1.244           0.214
L2.Google Trend Index        -0.291790         0.165351           -1.765           0.078
L2.Visitor Volume            -1.994707         2.837904           -0.703           0.482
========================================================================================

Results for equation Visitor Volume
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                        -0.005717         0.057143           -0.100           0.920
L1.Google Trend Index         0.003099         0.009353            0.331           0.740
L1.Visitor Volume             0.390197         0.169341            2.304           0.021
L2.Google Trend Index        -0.013666         0.009340           -1.463           0.143
L2.Visitor Volume            -0.081612         0.160309           -0.509           0.611
========================================================================================

Correlation matrix of residuals
                      Google Trend Index  Visitor Volume
Google Trend Index              1.000000        0.577775
Visitor Volume                  0.577775        1.000000





/// The Durbin Watson Test ///
Google Trend Index : 1.99
Visitor Volume : 1.97
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3.821</td>
      <td>3.263</td>
      <td>14.597</td>
      <td>0.044</td>
      <td>model_1</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/b1d0eb690752ece1c4341e52fc441720df7c9afe70eeb2dd0581c05411a40778.png" src="../../_images/b1d0eb690752ece1c4341e52fc441720df7c9afe70eeb2dd0581c05411a40778.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_2</span><span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_2&#39;</span><span class="p">)</span>
<span class="n">model_2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;Average Daily Room Rate (ADR)&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0       3.009      3.084*       20.27      3.038*
1       2.992       3.217       19.92       3.078
2      2.911*       3.286      18.40*       3.055
3       2.998       3.523       20.11       3.199
4       3.140       3.815       23.26       3.399
5       3.230       4.055       25.60       3.546
6       3.324       4.300       28.39       3.698
7       3.319       4.445       28.58       3.751
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:31
--------------------------------------------------------------------
No. of Equations:         2.00000    BIC:                    3.21692
Nobs:                     57.0000    HQIC:                   2.99779
Log likelihood:          -233.226    FPE:                    17.4510
AIC:                      2.85849    Det(Omega_mle):         14.7498
--------------------------------------------------------------------
Results for equation Google Trend Index
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.068124         0.956870            0.071           0.943
L1.Google Trend Index                    0.312272         0.140530            2.222           0.026
L1.Average Daily Room Rate (ADR)        -5.262479         1.784561           -2.949           0.003
L2.Google Trend Index                   -0.293906         0.141848           -2.072           0.038
L2.Average Daily Room Rate (ADR)        -0.908529         1.919397           -0.473           0.636
===================================================================================================

Results for equation Average Daily Room Rate (ADR)
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.057845         0.079357            0.729           0.466
L1.Google Trend Index                    0.008504         0.011655            0.730           0.466
L1.Average Daily Room Rate (ADR)        -0.321878         0.148001           -2.175           0.030
L2.Google Trend Index                    0.011764         0.011764            1.000           0.317
L2.Average Daily Room Rate (ADR)        -0.237902         0.159183           -1.495           0.135
===================================================================================================

Correlation matrix of residuals
                                 Google Trend Index  Average Daily Room Rate (ADR)
Google Trend Index                         1.000000                       0.433051
Average Daily Room Rate (ADR)              0.433051                       1.000000





/// The Durbin Watson Test ///
Google Trend Index : 1.98
Average Daily Room Rate (ADR) : 2.1
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.230</td>
      <td>4.772</td>
      <td>27.349</td>
      <td>0.065</td>
      <td>model_2</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/260e5750c7f913c6859922fbdbdcdc7bbca3ad3d124198eb416372cf078f1e21.png" src="../../_images/260e5750c7f913c6859922fbdbdcdc7bbca3ad3d124198eb416372cf078f1e21.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_3</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_3&#39;</span><span class="p">)</span>
<span class="n">model_3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;CPI&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0      -1.404     -1.329*      0.2456      -1.375
1      -1.344      -1.118      0.2610      -1.257
2     -1.608*      -1.233     0.2005*     -1.464*
3      -1.477     -0.9521      0.2290      -1.276
4      -1.604     -0.9286      0.2025      -1.345
5      -1.532     -0.7065      0.2189      -1.216
6      -1.604     -0.6289      0.2054      -1.230
7      -1.490     -0.3641      0.2331      -1.058
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:31
--------------------------------------------------------------------
No. of Equations:         2.00000    BIC:                   -1.35193
Nobs:                     57.0000    HQIC:                  -1.57106
Log likelihood:          -103.014    FPE:                   0.180964
AIC:                     -1.71036    Det(Omega_mle):        0.152953
--------------------------------------------------------------------
Results for equation Google Trend Index
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                        -0.112317         1.012878           -0.111           0.912
L1.Google Trend Index         0.092535         0.138890            0.666           0.505
L1.CPI                       23.358539        19.405394            1.204           0.229
L2.Google Trend Index        -0.320017         0.135615           -2.360           0.018
L2.CPI                        8.355535        19.752737            0.423           0.672
========================================================================================

Results for equation CPI
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                         0.000191         0.007192            0.027           0.979
L1.Google Trend Index         0.001163         0.000986            1.179           0.238
L1.CPI                       -0.216112         0.137795           -1.568           0.117
L2.Google Trend Index        -0.001362         0.000963           -1.414           0.157
L2.CPI                       -0.487002         0.140261           -3.472           0.001
========================================================================================

Correlation matrix of residuals
                      Google Trend Index       CPI
Google Trend Index              1.000000  0.326887
CPI                             0.326887  1.000000





/// The Durbin Watson Test ///
Google Trend Index : 2.02
CPI : 1.95
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.880</td>
      <td>1.661</td>
      <td>3.535</td>
      <td>0.021</td>
      <td>model_3</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/96fabb6f0c93801963b508539faf4cd3a24bdaefa1774565e3840e843d6e3ba9.png" src="../../_images/96fabb6f0c93801963b508539faf4cd3a24bdaefa1774565e3840e843d6e3ba9.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_4</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_4&#39;</span><span class="p">)</span>
<span class="n">model_4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;Unemployment Rate&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0      4.708*      4.783*      110.9*      4.737*
1       4.796       5.021       121.1       4.882
2       4.779       5.154       119.2       4.923
3       4.890       5.415       133.3       5.091
4       4.938       5.614       140.5       5.197
5       4.999       5.824       150.2       5.315
6       5.054       6.030       160.1       5.428
7       4.966       6.091       148.3       5.397
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:31
--------------------------------------------------------------------
No. of Equations:         2.00000    BIC:                    4.87980
Nobs:                     58.0000    HQIC:                   4.74967
Log likelihood:          -293.930    FPE:                    106.360
AIC:                      4.66665    Det(Omega_mle):         96.1560
--------------------------------------------------------------------
Results for equation Google Trend Index
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                        -0.128968         1.037890           -0.124           0.901
L1.Google Trend Index         0.221221         0.156971            1.409           0.159
L1.Unemployment Rate          1.073310         0.852862            1.258           0.208
========================================================================================

Results for equation Unemployment Rate
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                        -0.019772         0.191731           -0.103           0.918
L1.Google Trend Index        -0.037765         0.028997           -1.302           0.193
L1.Unemployment Rate         -0.093084         0.157550           -0.591           0.555
========================================================================================

Correlation matrix of residuals
                      Google Trend Index  Unemployment Rate
Google Trend Index              1.000000          -0.525313
Unemployment Rate              -0.525313           1.000000





/// The Durbin Watson Test ///
Google Trend Index : 1.96
Unemployment Rate : 2.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.894</td>
      <td>1.586</td>
      <td>3.586</td>
      <td>0.020</td>
      <td>model_4</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/680796525942ef11eac5dab0e1f0531959e526898e5d982798f721b48aea34a5.png" src="../../_images/680796525942ef11eac5dab0e1f0531959e526898e5d982798f721b48aea34a5.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_5</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_5&#39;</span><span class="p">)</span>
<span class="n">model_5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;Visitor Volume&#39;, &#39;Average Daily Room Rate (ADR)&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0      0.9124      1.025*       2.490      0.9555
1      0.7233       1.174       2.063     0.8959*
2     0.6295*       1.417      1.886*      0.9316
3      0.7363       1.862       2.119       1.168
4      0.9245       2.388       2.604       1.486
5       1.060       2.861       3.070       1.750
6       1.170       3.309       3.583       1.990
7       1.198       3.674       3.926       2.147
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:31
--------------------------------------------------------------------
No. of Equations:         3.00000    BIC:                    1.22196
Nobs:                     57.0000    HQIC:                  0.761782
Log likelihood:          -235.012    FPE:                    1.60479
AIC:                     0.469256    Det(Omega_mle):         1.13371
--------------------------------------------------------------------
Results for equation Google Trend Index
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.187958         0.891368            0.211           0.833
L1.Google Trend Index                    0.050736         0.155594            0.326           0.744
L1.Visitor Volume                        8.874502         2.900685            3.059           0.002
L1.Average Daily Room Rate (ADR)        -8.398308         1.988138           -4.224           0.000
L2.Google Trend Index                   -0.406602         0.150465           -2.702           0.007
L2.Visitor Volume                        2.426412         2.926933            0.829           0.407
L2.Average Daily Room Rate (ADR)        -3.147999         2.113996           -1.489           0.136
===================================================================================================

Results for equation Visitor Volume
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.006013         0.056250            0.107           0.915
L1.Google Trend Index                    0.002080         0.009819            0.212           0.832
L1.Visitor Volume                        0.552545         0.183049            3.019           0.003
L1.Average Daily Room Rate (ADR)        -0.254065         0.125462           -2.025           0.043
L2.Google Trend Index                   -0.016172         0.009495           -1.703           0.089
L2.Visitor Volume                        0.088352         0.184705            0.478           0.632
L2.Average Daily Room Rate (ADR)        -0.157926         0.133405           -1.184           0.236
===================================================================================================

Results for equation Average Daily Room Rate (ADR)
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.070114         0.068516            1.023           0.306
L1.Google Trend Index                   -0.020332         0.011960           -1.700           0.089
L1.Visitor Volume                        0.986556         0.222963            4.425           0.000
L1.Average Daily Room Rate (ADR)        -0.636296         0.152820           -4.164           0.000
L2.Google Trend Index                    0.002622         0.011566            0.227           0.821
L2.Visitor Volume                        0.128031         0.224981            0.569           0.569
L2.Average Daily Room Rate (ADR)        -0.436685         0.162494           -2.687           0.007
===================================================================================================

Correlation matrix of residuals
                                 Google Trend Index  Visitor Volume  Average Daily Room Rate (ADR)
Google Trend Index                         1.000000        0.530464                       0.281006
Visitor Volume                             0.530464        1.000000                       0.487946
Average Daily Room Rate (ADR)              0.281006        0.487946                       1.000000





/// The Durbin Watson Test ///
Google Trend Index : 2.0
Visitor Volume : 1.97
Average Daily Room Rate (ADR) : 2.25
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>7.623</td>
      <td>7.229</td>
      <td>58.103</td>
      <td>0.103</td>
      <td>model_5</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/7249b75be8df8e4ac9f08e57b44a5956d12e14c7e2f0f7d94676c618d3bebeda.png" src="../../_images/7249b75be8df8e4ac9f08e57b44a5956d12e14c7e2f0f7d94676c618d3bebeda.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_6</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_6&#39;</span><span class="p">)</span>
<span class="n">model_6</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;Visitor Volume&#39;, &#39;CPI&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0      -3.356     -3.243*     0.03489     -3.312*
1      -3.303      -2.853     0.03681      -3.130
2      -3.457      -2.669     0.03167      -3.155
3      -3.286      -2.160     0.03794      -2.855
4      -3.594      -2.131    0.02839*      -3.033
5      -3.498      -1.696     0.03220      -2.807
6     -3.644*      -1.505     0.02909      -2.824
7      -3.400     -0.9231     0.03957      -2.450
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:31
--------------------------------------------------------------------
No. of Equations:         3.00000    BIC:                   -1.57353
Nobs:                     53.0000    HQIC:                  -2.87766
Log likelihood:          -70.7594    FPE:                  0.0275280
AIC:                     -3.69252    Det(Omega_mle):       0.0109801
--------------------------------------------------------------------
Results for equation Google Trend Index
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                        -0.261741         1.076633           -0.243           0.808
L1.Google Trend Index        -0.097321         0.231259           -0.421           0.674
L1.Visitor Volume             5.926401         3.815709            1.553           0.120
L1.CPI                       14.839599        31.084849            0.477           0.633
L2.Google Trend Index        -0.363349         0.227952           -1.594           0.111
L2.Visitor Volume            -3.604941         3.751384           -0.961           0.337
L2.CPI                       34.899393        30.676124            1.138           0.255
L3.Google Trend Index        -0.187748         0.206698           -0.908           0.364
L3.Visitor Volume            -0.889300         3.863143           -0.230           0.818
L3.CPI                       22.947340        33.204686            0.691           0.490
L4.Google Trend Index        -0.249739         0.214814           -1.163           0.245
L4.Visitor Volume             4.417707         3.741812            1.181           0.238
L4.CPI                       58.033396        34.139706            1.700           0.089
L5.Google Trend Index        -0.151172         0.210402           -0.718           0.472
L5.Visitor Volume             0.532614         4.737704            0.112           0.910
L5.CPI                       -0.547545        29.466808           -0.019           0.985
L6.Google Trend Index        -0.052968         0.230153           -0.230           0.818
L6.Visitor Volume            -1.761387         4.390918           -0.401           0.688
L6.CPI                       -2.454041        28.459655           -0.086           0.931
========================================================================================

Results for equation Visitor Volume
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                        -0.002531         0.063740           -0.040           0.968
L1.Google Trend Index         0.007375         0.013691            0.539           0.590
L1.Visitor Volume             0.422507         0.225903            1.870           0.061
L1.CPI                        0.284373         1.840333            0.155           0.877
L2.Google Trend Index        -0.014923         0.013496           -1.106           0.269
L2.Visitor Volume            -0.085666         0.222095           -0.386           0.700
L2.CPI                       -0.625100         1.816135           -0.344           0.731
L3.Google Trend Index         0.015238         0.012237            1.245           0.213
L3.Visitor Volume            -0.196524         0.228712           -0.859           0.390
L3.CPI                       -1.103097         1.965834           -0.561           0.575
L4.Google Trend Index         0.000682         0.012718            0.054           0.957
L4.Visitor Volume            -0.208482         0.221528           -0.941           0.347
L4.CPI                        2.363502         2.021191            1.169           0.242
L5.Google Trend Index         0.012882         0.012457            1.034           0.301
L5.Visitor Volume            -0.044258         0.280489           -0.158           0.875
L5.CPI                       -1.090550         1.744539           -0.625           0.532
L6.Google Trend Index        -0.002498         0.013626           -0.183           0.855
L6.Visitor Volume            -0.031376         0.259958           -0.121           0.904
L6.CPI                        0.293703         1.684912            0.174           0.862
========================================================================================

Results for equation CPI
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                         0.001021         0.006239            0.164           0.870
L1.Google Trend Index         0.001382         0.001340            1.031           0.302
L1.Visitor Volume             0.005027         0.022112            0.227           0.820
L1.CPI                       -0.198552         0.180133           -1.102           0.270
L2.Google Trend Index        -0.001367         0.001321           -1.035           0.301
L2.Visitor Volume            -0.021910         0.021739           -1.008           0.314
L2.CPI                       -0.446637         0.177764           -2.513           0.012
L3.Google Trend Index         0.000512         0.001198            0.427           0.669
L3.Visitor Volume             0.020303         0.022386            0.907           0.364
L3.CPI                       -0.029325         0.192417           -0.152           0.879
L4.Google Trend Index        -0.000066         0.001245           -0.053           0.958
L4.Visitor Volume            -0.065312         0.021683           -3.012           0.003
L4.CPI                        0.068704         0.197835            0.347           0.728
L5.Google Trend Index        -0.000609         0.001219           -0.500           0.617
L5.Visitor Volume             0.020791         0.027454            0.757           0.449
L5.CPI                        0.121378         0.170757            0.711           0.477
L6.Google Trend Index        -0.001389         0.001334           -1.041           0.298
L6.Visitor Volume             0.042271         0.025445            1.661           0.097
L6.CPI                       -0.421098         0.164920           -2.553           0.011
========================================================================================

Correlation matrix of residuals
                      Google Trend Index  Visitor Volume       CPI
Google Trend Index              1.000000        0.633126  0.524471
Visitor Volume                  0.633126        1.000000  0.458120
CPI                             0.524471        0.458120  1.000000





/// The Durbin Watson Test ///
Google Trend Index : 1.96
Visitor Volume : 1.94
CPI : 1.99
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2.401</td>
      <td>2.184</td>
      <td>5.763</td>
      <td>0.027</td>
      <td>model_6</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/904c59a03e3b576abf7291fcf0c6eba8d85211422976be06dde2d1daf3949ac5.png" src="../../_images/904c59a03e3b576abf7291fcf0c6eba8d85211422976be06dde2d1daf3949ac5.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_7</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_7&#39;</span><span class="p">)</span>
<span class="n">model_7</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;Visitor Volume&#39;, &#39;Unemployment Rate&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0       2.649       2.762       14.15       2.693
1      2.232*      2.682*      9.323*      2.404*
2       2.337       3.125       10.40       2.639
3       2.447       3.572       11.72       2.878
4       2.653       4.117       14.67       3.214
5       2.505       4.306       13.03       3.196
6       2.595       4.733       14.89       3.415
7       2.381       4.857       12.82       3.330
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:31
--------------------------------------------------------------------
No. of Equations:         3.00000    BIC:                    2.43245
Nobs:                     58.0000    HQIC:                   2.17221
Log likelihood:          -293.074    FPE:                    7.43956
AIC:                      2.00615    Det(Omega_mle):         6.09055
--------------------------------------------------------------------
Results for equation Google Trend Index
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                        -0.146161         1.043347           -0.140           0.889
L1.Google Trend Index         0.166067         0.177541            0.935           0.350
L1.Visitor Volume             2.062959         3.046975            0.677           0.498
L1.Unemployment Rate          1.282753         0.911209            1.408           0.159
========================================================================================

Results for equation Visitor Volume
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                        -0.007585         0.058084           -0.131           0.896
L1.Google Trend Index         0.009051         0.009884            0.916           0.360
L1.Visitor Volume             0.300876         0.169629            1.774           0.076
L1.Unemployment Rate          0.049222         0.050728            0.970           0.332
========================================================================================

Results for equation Unemployment Rate
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                         0.001630         0.152134            0.011           0.991
L1.Google Trend Index         0.030891         0.025888            1.193           0.233
L1.Visitor Volume            -2.567981         0.444288           -5.780           0.000
L1.Unemployment Rate         -0.353801         0.132866           -2.663           0.008
========================================================================================

Correlation matrix of residuals
                      Google Trend Index  Visitor Volume  Unemployment Rate
Google Trend Index              1.000000        0.619260          -0.598701
Visitor Volume                  0.619260        1.000000          -0.531830
Unemployment Rate              -0.598701       -0.531830           1.000000





/// The Durbin Watson Test ///
Google Trend Index : 1.97
Visitor Volume : 1.84
Unemployment Rate : 2.06
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.874</td>
      <td>1.479</td>
      <td>3.510</td>
      <td>0.019</td>
      <td>model_7</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/4832b3826ccf15447749ad3e5a35638cb6ff19e6867640a60f3c9ebf09ded302.png" src="../../_images/4832b3826ccf15447749ad3e5a35638cb6ff19e6867640a60f3c9ebf09ded302.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_8</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_8&#39;</span><span class="p">)</span>
<span class="n">model_8</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;Average Daily Room Rate (ADR)&#39;, &#39;CPI&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0      -2.629     -2.517*     0.07213      -2.586
1      -2.611      -2.161     0.07354      -2.438
2     -2.898*      -2.110    0.05541*     -2.596*
3      -2.737      -1.612     0.06569      -2.306
4      -2.618      -1.154     0.07538      -2.057
5      -2.445     -0.6436     0.09228      -1.754
6      -2.555     -0.4164     0.08638      -1.735
7      -2.415     0.06142      0.1059      -1.466
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:32
--------------------------------------------------------------------
No. of Equations:         3.00000    BIC:                   -2.31834
Nobs:                     57.0000    HQIC:                  -2.77851
Log likelihood:          -134.114    FPE:                  0.0465467
AIC:                     -3.07104    Det(Omega_mle):       0.0328831
--------------------------------------------------------------------
Results for equation Google Trend Index
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.210773         0.928294            0.227           0.820
L1.Google Trend Index                    0.210016         0.143475            1.464           0.143
L1.Average Daily Room Rate (ADR)        -6.476961         1.806445           -3.585           0.000
L1.CPI                                  39.816709        18.258927            2.181           0.029
L2.Google Trend Index                   -0.271085         0.139185           -1.948           0.051
L2.Average Daily Room Rate (ADR)        -1.988618         1.961595           -1.014           0.311
L2.CPI                                  24.501828        19.140119            1.280           0.200
===================================================================================================

Results for equation Average Daily Room Rate (ADR)
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.059570         0.076516            0.779           0.436
L1.Google Trend Index                    0.007112         0.011826            0.601           0.548
L1.Average Daily Room Rate (ADR)        -0.347782         0.148900           -2.336           0.020
L1.CPI                                   2.782240         1.505029            1.849           0.065
L2.Google Trend Index                    0.016470         0.011473            1.436           0.151
L2.Average Daily Room Rate (ADR)        -0.200130         0.161688           -1.238           0.216
L2.CPI                                  -2.013060         1.577663           -1.276           0.202
===================================================================================================

Results for equation CPI
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.001246         0.007298            0.171           0.864
L1.Google Trend Index                    0.000829         0.001128            0.735           0.463
L1.Average Daily Room Rate (ADR)        -0.006722         0.014202           -0.473           0.636
L1.CPI                                  -0.185447         0.143547           -1.292           0.196
L2.Google Trend Index                   -0.000792         0.001094           -0.724           0.469
L2.Average Daily Room Rate (ADR)        -0.017619         0.015422           -1.142           0.253
L2.CPI                                  -0.427348         0.150475           -2.840           0.005
===================================================================================================

Correlation matrix of residuals
                                 Google Trend Index  Average Daily Room Rate (ADR)       CPI
Google Trend Index                         1.000000                       0.432242  0.330529
Average Daily Room Rate (ADR)              0.432242                       1.000000  0.290024
CPI                                        0.330529                       0.290024  1.000000





/// The Durbin Watson Test ///
Google Trend Index : 1.93
Average Daily Room Rate (ADR) : 2.16
CPI : 2.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2.161</td>
      <td>1.945</td>
      <td>4.671</td>
      <td>0.025</td>
      <td>model_8</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/7e60e38f5aeeef76c529141d72cbca06f1113a1121e079479cff4946733aacf8.png" src="../../_images/7e60e38f5aeeef76c529141d72cbca06f1113a1121e079479cff4946733aacf8.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_9</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_9&#39;</span><span class="p">)</span>
<span class="n">model_9</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;Average Daily Room Rate (ADR)&#39;, &#39;Unemployment Rate&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0       3.264      3.376*       26.15      3.307*
1       3.339       3.790       28.23       3.512
2      3.202*       3.990      24.71*       3.504
3       3.330       4.456       28.35       3.762
4       3.568       5.032       36.63       4.129
5       3.799       5.600       47.50       4.489
6       3.948       6.086       57.61       4.768
7       3.773       6.249       51.56       4.722
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:32
--------------------------------------------------------------------
No. of Equations:         3.00000    BIC:                    3.79063
Nobs:                     57.0000    HQIC:                   3.33045
Log likelihood:          -308.219    FPE:                    20.9401
AIC:                      3.03793    Det(Omega_mle):         14.7932
--------------------------------------------------------------------
Results for equation Google Trend Index
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.050103         0.971339            0.052           0.959
L1.Google Trend Index                    0.285944         0.152867            1.871           0.061
L1.Average Daily Room Rate (ADR)        -5.290157         2.174969           -2.432           0.015
L1.Unemployment Rate                    -0.290637         0.916405           -0.317           0.751
L2.Google Trend Index                   -0.266177         0.155706           -1.709           0.087
L2.Average Daily Room Rate (ADR)        -0.266723         2.244048           -0.119           0.905
L2.Unemployment Rate                     0.558035         0.938804            0.594           0.552
===================================================================================================

Results for equation Average Daily Room Rate (ADR)
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.053399         0.075775            0.705           0.481
L1.Google Trend Index                   -0.000834         0.011925           -0.070           0.944
L1.Average Daily Room Rate (ADR)        -0.384384         0.169671           -2.265           0.023
L1.Unemployment Rate                    -0.119836         0.071489           -1.676           0.094
L2.Google Trend Index                    0.017607         0.012147            1.450           0.147
L2.Average Daily Room Rate (ADR)        -0.085347         0.175060           -0.488           0.626
L2.Unemployment Rate                     0.135066         0.073237            1.844           0.065
===================================================================================================

Results for equation Unemployment Rate
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                   -0.002100         0.193971           -0.011           0.991
L1.Google Trend Index                   -0.054411         0.030527           -1.782           0.075
L1.Average Daily Room Rate (ADR)         0.411454         0.434328            0.947           0.343
L1.Unemployment Rate                     0.016822         0.183001            0.092           0.927
L2.Google Trend Index                    0.018255         0.031094            0.587           0.557
L2.Average Daily Room Rate (ADR)        -0.754414         0.448123           -1.683           0.092
L2.Unemployment Rate                    -0.228247         0.187474           -1.217           0.223
===================================================================================================

Correlation matrix of residuals
                                 Google Trend Index  Average Daily Room Rate (ADR)  Unemployment Rate
Google Trend Index                         1.000000                       0.428023          -0.524087
Average Daily Room Rate (ADR)              0.428023                       1.000000          -0.649185
Unemployment Rate                         -0.524087                      -0.649185           1.000000





/// The Durbin Watson Test ///
Google Trend Index : 1.99
Average Daily Room Rate (ADR) : 2.13
Unemployment Rate : 1.93
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.013</td>
      <td>4.557</td>
      <td>25.133</td>
      <td>0.062</td>
      <td>model_9</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/0f1ce237d1b1291e32944ac36da41866f79de7c856f39d3a095ff6569b565f96.png" src="../../_images/0f1ce237d1b1291e32944ac36da41866f79de7c856f39d3a095ff6569b565f96.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_10</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_10&#39;</span><span class="p">)</span>
<span class="n">model_10</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;CPI&#39;, &#39;Unemployment Rate&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0    -0.8922*    -0.7797*     0.4097*    -0.8491*
1     -0.7163     -0.2660      0.4890     -0.5436
2     -0.8194    -0.03140      0.4429     -0.5173
3     -0.6123      0.5134      0.5501     -0.1807
4     -0.7255      0.7380      0.5001     -0.1644
5     -0.5685       1.233      0.6025      0.1220
6     -0.6837       1.455      0.5613      0.1363
7     -0.7234       1.753      0.5751      0.2260
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:32
--------------------------------------------------------------------
No. of Equations:         3.00000    BIC:                  -0.526247
Nobs:                     58.0000    HQIC:                 -0.786493
Log likelihood:          -207.271    FPE:                   0.386012
AIC:                    -0.952545    Det(Omega_mle):        0.316016
--------------------------------------------------------------------
Results for equation Google Trend Index
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                        -0.079943         1.024976           -0.078           0.938
L1.Google Trend Index         0.167554         0.158697            1.056           0.291
L1.CPI                       30.470462        19.476949            1.564           0.118
L1.Unemployment Rate          1.153774         0.843426            1.368           0.171
========================================================================================

Results for equation CPI
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                         0.001848         0.007988            0.231           0.817
L1.Google Trend Index         0.000930         0.001237            0.752           0.452
L1.CPI                       -0.105645         0.151789           -0.696           0.486
L1.Unemployment Rate          0.009006         0.006573            1.370           0.171
========================================================================================

Results for equation Unemployment Rate
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                        -0.027577         0.190445           -0.145           0.885
L1.Google Trend Index        -0.029220         0.029487           -0.991           0.322
L1.CPI                       -4.851203         3.618910           -1.341           0.180
L1.Unemployment Rate         -0.105895         0.156712           -0.676           0.499
========================================================================================

Correlation matrix of residuals
                      Google Trend Index       CPI  Unemployment Rate
Google Trend Index              1.000000  0.304553          -0.507113
CPI                             0.304553  1.000000          -0.207440
Unemployment Rate              -0.507113 -0.207440           1.000000





/// The Durbin Watson Test ///
Google Trend Index : 1.99
CPI : 1.96
Unemployment Rate : 2.01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5.756</td>
      <td>5.445</td>
      <td>33.128</td>
      <td>0.065</td>
      <td>model_10</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/0ea2fa9417cd6944d17f15f20bdcf97017b346e50c48a174736da731d0883628.png" src="../../_images/0ea2fa9417cd6944d17f15f20bdcf97017b346e50c48a174736da731d0883628.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_11</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_11&#39;</span><span class="p">)</span>
<span class="n">model_11</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;Visitor Volume&#39;, &#39;Average Daily Room Rate (ADR)&#39;, &#39;CPI&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0      -4.730     -4.579*    0.008831      -4.672
1      -4.908      -4.157    0.007406      -4.620
2      -5.209      -3.858   0.005545*     -4.691*
3      -5.224      -3.273    0.005623      -4.476
4     -5.272*      -2.720    0.005674      -4.293
5      -5.023      -1.871    0.008000      -3.815
6      -4.980      -1.227    0.009715      -3.541
7      -4.639     -0.2867     0.01716      -2.971
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:32
--------------------------------------------------------------------
No. of Equations:         4.00000    BIC:                   -2.92986
Nobs:                     55.0000    HQIC:                  -4.45192
Log likelihood:          -95.3460    FPE:                 0.00485347
AIC:                     -5.41165    Det(Omega_mle):      0.00165262
--------------------------------------------------------------------
Results for equation Google Trend Index
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.497680         0.960302            0.518           0.604
L1.Google Trend Index                   -0.018613         0.188724           -0.099           0.921
L1.Visitor Volume                        8.234046         3.075420            2.677           0.007
L1.Average Daily Room Rate (ADR)        -9.299647         2.737860           -3.397           0.001
L1.CPI                                  32.968449        22.525220            1.464           0.143
L2.Google Trend Index                   -0.526858         0.186446           -2.826           0.005
L2.Visitor Volume                        3.157082         4.180591            0.755           0.450
L2.Average Daily Room Rate (ADR)        -5.063769         3.501828           -1.446           0.148
L2.CPI                                  44.725820        24.067186            1.858           0.063
L3.Google Trend Index                   -0.095760         0.187265           -0.511           0.609
L3.Visitor Volume                        3.535340         4.089936            0.864           0.387
L3.Average Daily Room Rate (ADR)        -3.409416         3.181365           -1.072           0.284
L3.CPI                                   3.969567        26.366254            0.151           0.880
L4.Google Trend Index                   -0.054953         0.193019           -0.285           0.776
L4.Visitor Volume                        2.321468         3.673216            0.632           0.527
L4.Average Daily Room Rate (ADR)        -1.745734         2.573725           -0.678           0.498
L4.CPI                                  35.157998        25.530686            1.377           0.168
===================================================================================================

Results for equation Visitor Volume
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.035329         0.058545            0.603           0.546
L1.Google Trend Index                    0.009593         0.011506            0.834           0.404
L1.Visitor Volume                        0.545056         0.187493            2.907           0.004
L1.Average Daily Room Rate (ADR)        -0.417212         0.166914           -2.500           0.012
L1.CPI                                   0.423159         1.373251            0.308           0.758
L2.Google Trend Index                   -0.025126         0.011367           -2.210           0.027
L2.Visitor Volume                        0.257264         0.254870            1.009           0.313
L2.Average Daily Room Rate (ADR)        -0.177784         0.213489           -0.833           0.405
L2.CPI                                  -0.213579         1.467257           -0.146           0.884
L3.Google Trend Index                    0.009393         0.011417            0.823           0.411
L3.Visitor Volume                       -0.101979         0.249343           -0.409           0.683
L3.Average Daily Room Rate (ADR)        -0.185496         0.193952           -0.956           0.339
L3.CPI                                  -1.578148         1.607420           -0.982           0.326
L4.Google Trend Index                    0.008568         0.011767            0.728           0.467
L4.Visitor Volume                       -0.078221         0.223938           -0.349           0.727
L4.Average Daily Room Rate (ADR)        -0.247974         0.156907           -1.580           0.114
L4.CPI                                   1.804469         1.556479            1.159           0.246
===================================================================================================

Results for equation Average Daily Room Rate (ADR)
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.096087         0.061460            1.563           0.118
L1.Google Trend Index                   -0.002855         0.012079           -0.236           0.813
L1.Visitor Volume                        1.039794         0.196830            5.283           0.000
L1.Average Daily Room Rate (ADR)        -0.945826         0.175226           -5.398           0.000
L1.CPI                                  -0.055946         1.441638           -0.039           0.969
L2.Google Trend Index                   -0.000156         0.011933           -0.013           0.990
L2.Visitor Volume                        0.518393         0.267562            1.937           0.053
L2.Average Daily Room Rate (ADR)        -0.373045         0.224121           -1.664           0.096
L2.CPI                                  -4.607389         1.540325           -2.991           0.003
L3.Google Trend Index                    0.030349         0.011985            2.532           0.011
L3.Visitor Volume                       -0.302391         0.261760           -1.155           0.248
L3.Average Daily Room Rate (ADR)        -0.071878         0.203611           -0.353           0.724
L3.CPI                                  -5.979894         1.687468           -3.544           0.000
L4.Google Trend Index                    0.009193         0.012353            0.744           0.457
L4.Visitor Volume                       -0.294698         0.235090           -1.254           0.210
L4.Average Daily Room Rate (ADR)         0.066106         0.164721            0.401           0.688
L4.CPI                                  -0.885135         1.633991           -0.542           0.588
===================================================================================================

Results for equation CPI
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.001791         0.007265            0.247           0.805
L1.Google Trend Index                    0.001733         0.001428            1.214           0.225
L1.Visitor Volume                        0.014135         0.023265            0.608           0.543
L1.Average Daily Room Rate (ADR)        -0.019162         0.020712           -0.925           0.355
L1.CPI                                  -0.210811         0.170402           -1.237           0.216
L2.Google Trend Index                   -0.001354         0.001410           -0.960           0.337
L2.Visitor Volume                       -0.032108         0.031626           -1.015           0.310
L2.Average Daily Room Rate (ADR)        -0.002498         0.026491           -0.094           0.925
L2.CPI                                  -0.540169         0.182067           -2.967           0.003
L3.Google Trend Index                    0.001989         0.001417            1.404           0.160
L3.Visitor Volume                        0.027399         0.030940            0.886           0.376
L3.Average Daily Room Rate (ADR)        -0.007187         0.024067           -0.299           0.765
L3.CPI                                  -0.224152         0.199459           -1.124           0.261
L4.Google Trend Index                   -0.000605         0.001460           -0.414           0.679
L4.Visitor Volume                       -0.070388         0.027788           -2.533           0.011
L4.Average Daily Room Rate (ADR)         0.020557         0.019470            1.056           0.291
L4.CPI                                  -0.041392         0.193138           -0.214           0.830
===================================================================================================

Correlation matrix of residuals
                                 Google Trend Index  Visitor Volume  Average Daily Room Rate (ADR)       CPI
Google Trend Index                         1.000000        0.511815                       0.318084  0.462125
Visitor Volume                             0.511815        1.000000                       0.388557  0.377018
Average Daily Room Rate (ADR)              0.318084        0.388557                       1.000000  0.291263
CPI                                        0.462125        0.377018                       0.291263  1.000000





/// The Durbin Watson Test ///
Google Trend Index : 1.9
Visitor Volume : 1.9
Average Daily Room Rate (ADR) : 2.01
CPI : 2.0
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2.496</td>
      <td>1.891</td>
      <td>6.229</td>
      <td>0.024</td>
      <td>model_11</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/17312947fa30a2f32528a3736a75aaf6a3fb98595c5f283eceda26bc8ab68044.png" src="../../_images/17312947fa30a2f32528a3736a75aaf6a3fb98595c5f283eceda26bc8ab68044.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_12</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_12&#39;</span><span class="p">)</span>
<span class="n">model_12</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;Visitor Volume&#39;, &#39;Average Daily Room Rate (ADR)&#39;, &#39;Unemployment Rate&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0       1.129       1.279       3.092       1.186
1      0.4569      1.207*       1.583     0.7446*
2      0.4451       1.796      1.583*      0.9630
3      0.6300       2.581       1.961       1.378
4      0.7747       3.326       2.397       1.753
5      0.7110       3.863       2.475       1.919
6      0.6830       4.435       2.797       2.122
7     0.1346*       4.487       2.032       1.803
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:32
--------------------------------------------------------------------
No. of Equations:         4.00000    BIC:                    4.48740
Nobs:                     52.0000    HQIC:                   1.80338
Log likelihood:          -182.639    FPE:                    2.03177
AIC:                     0.134625    Det(Omega_mle):        0.345102
--------------------------------------------------------------------
Results for equation Google Trend Index
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.568046         0.922359            0.616           0.538
L1.Google Trend Index                   -0.048212         0.204711           -0.236           0.814
L1.Visitor Volume                       10.021370         3.401338            2.946           0.003
L1.Average Daily Room Rate (ADR)        -8.475508         2.765309           -3.065           0.002
L1.Unemployment Rate                     0.847350         1.490500            0.569           0.570
L2.Google Trend Index                   -0.266175         0.234812           -1.134           0.257
L2.Visitor Volume                        6.900590         6.928108            0.996           0.319
L2.Average Daily Room Rate (ADR)        -6.651785         3.953290           -1.683           0.092
L2.Unemployment Rate                    -0.945486         1.525532           -0.620           0.535
L3.Google Trend Index                   -0.237942         0.246089           -0.967           0.334
L3.Visitor Volume                       -5.255417         6.398422           -0.821           0.411
L3.Average Daily Room Rate (ADR)         1.242070         3.696266            0.336           0.737
L3.Unemployment Rate                    -0.027928         1.602858           -0.017           0.986
L4.Google Trend Index                    0.212802         0.253337            0.840           0.401
L4.Visitor Volume                        4.850343         5.723409            0.847           0.397
L4.Average Daily Room Rate (ADR)        -1.783217         3.733042           -0.478           0.633
L4.Unemployment Rate                    -0.080515         1.547731           -0.052           0.959
L5.Google Trend Index                   -0.321030         0.266823           -1.203           0.229
L5.Visitor Volume                       -3.056108         5.331236           -0.573           0.566
L5.Average Daily Room Rate (ADR)         4.917961         3.601563            1.366           0.172
L5.Unemployment Rate                    -2.258463         1.494830           -1.511           0.131
L6.Google Trend Index                    0.062888         0.258065            0.244           0.807
L6.Visitor Volume                      -11.990933         5.757342           -2.083           0.037
L6.Average Daily Room Rate (ADR)         2.301988         3.580243            0.643           0.520
L6.Unemployment Rate                     0.101251         1.500565            0.067           0.946
L7.Google Trend Index                   -0.069739         0.245616           -0.284           0.776
L7.Visitor Volume                        7.477447         5.419084            1.380           0.168
L7.Average Daily Room Rate (ADR)        -7.886631         3.470501           -2.272           0.023
L7.Unemployment Rate                    -3.040850         0.991680           -3.066           0.002
===================================================================================================

Results for equation Visitor Volume
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.087064         0.073565            1.184           0.237
L1.Google Trend Index                    0.026151         0.016327            1.602           0.109
L1.Visitor Volume                        0.565890         0.271281            2.086           0.037
L1.Average Daily Room Rate (ADR)        -0.583703         0.220553           -2.647           0.008
L1.Unemployment Rate                     0.073512         0.118878            0.618           0.536
L2.Google Trend Index                   -0.023840         0.018728           -1.273           0.203
L2.Visitor Volume                        0.443935         0.552566            0.803           0.422
L2.Average Daily Room Rate (ADR)        -0.539805         0.315303           -1.712           0.087
L2.Unemployment Rate                    -0.158889         0.121672           -1.306           0.192
L3.Google Trend Index                    0.012853         0.019627            0.655           0.513
L3.Visitor Volume                       -0.444179         0.510320           -0.870           0.384
L3.Average Daily Room Rate (ADR)        -0.197004         0.294803           -0.668           0.504
L3.Unemployment Rate                     0.007339         0.127839            0.057           0.954
L4.Google Trend Index                    0.023018         0.020205            1.139           0.255
L4.Visitor Volume                        0.155625         0.456483            0.341           0.733
L4.Average Daily Room Rate (ADR)        -0.464936         0.297737           -1.562           0.118
L4.Unemployment Rate                     0.006418         0.123443            0.052           0.959
L5.Google Trend Index                    0.005674         0.021281            0.267           0.790
L5.Visitor Volume                       -0.045887         0.425204           -0.108           0.914
L5.Average Daily Room Rate (ADR)         0.102329         0.287250            0.356           0.722
L5.Unemployment Rate                     0.068921         0.119223            0.578           0.563
L6.Google Trend Index                    0.005930         0.020583            0.288           0.773
L6.Visitor Volume                        0.168260         0.459189            0.366           0.714
L6.Average Daily Room Rate (ADR)        -0.180293         0.285550           -0.631           0.528
L6.Unemployment Rate                     0.139096         0.119681            1.162           0.245
L7.Google Trend Index                   -0.004731         0.019590           -0.242           0.809
L7.Visitor Volume                        0.829279         0.432210            1.919           0.055
L7.Average Daily Room Rate (ADR)        -0.485877         0.276797           -1.755           0.079
L7.Unemployment Rate                    -0.035442         0.079094           -0.448           0.654
===================================================================================================

Results for equation Average Daily Room Rate (ADR)
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.182242         0.072749            2.505           0.012
L1.Google Trend Index                   -0.005470         0.016146           -0.339           0.735
L1.Visitor Volume                        1.067918         0.268271            3.981           0.000
L1.Average Daily Room Rate (ADR)        -1.163601         0.218106           -5.335           0.000
L1.Unemployment Rate                    -0.111910         0.117559           -0.952           0.341
L2.Google Trend Index                    0.000742         0.018520            0.040           0.968
L2.Visitor Volume                        0.330468         0.546436            0.605           0.545
L2.Average Daily Room Rate (ADR)        -0.563254         0.311805           -1.806           0.071
L2.Unemployment Rate                     0.173456         0.120322            1.442           0.149
L3.Google Trend Index                    0.013307         0.019410            0.686           0.493
L3.Visitor Volume                        0.647251         0.504658            1.283           0.200
L3.Average Daily Room Rate (ADR)        -0.651575         0.291533           -2.235           0.025
L3.Unemployment Rate                     0.186109         0.126421            1.472           0.141
L4.Google Trend Index                   -0.016566         0.019981           -0.829           0.407
L4.Visitor Volume                        0.817092         0.451419            1.810           0.070
L4.Average Daily Room Rate (ADR)        -0.390790         0.294434           -1.327           0.184
L4.Unemployment Rate                     0.096527         0.122073            0.791           0.429
L5.Google Trend Index                   -0.012996         0.021045           -0.618           0.537
L5.Visitor Volume                        0.453867         0.420487            1.079           0.280
L5.Average Daily Room Rate (ADR)        -0.178078         0.284064           -0.627           0.531
L5.Unemployment Rate                     0.152972         0.117901            1.297           0.194
L6.Google Trend Index                   -0.016618         0.020354           -0.816           0.414
L6.Visitor Volume                        0.949461         0.454095            2.091           0.037
L6.Average Daily Room Rate (ADR)        -0.290698         0.282382           -1.029           0.303
L6.Unemployment Rate                     0.309695         0.118353            2.617           0.009
L7.Google Trend Index                   -0.026285         0.019372           -1.357           0.175
L7.Visitor Volume                        1.360576         0.427416            3.183           0.001
L7.Average Daily Room Rate (ADR)        -0.424751         0.273726           -1.552           0.121
L7.Unemployment Rate                     0.040037         0.078216            0.512           0.609
===================================================================================================

Results for equation Unemployment Rate
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                   -0.128207         0.140780           -0.911           0.362
L1.Google Trend Index                    0.054713         0.031245            1.751           0.080
L1.Visitor Volume                       -4.340606         0.519148           -8.361           0.000
L1.Average Daily Room Rate (ADR)         2.019122         0.422071            4.784           0.000
L1.Unemployment Rate                    -0.079559         0.227496           -0.350           0.727
L2.Google Trend Index                    0.075742         0.035840            2.113           0.035
L2.Visitor Volume                       -0.166068         1.057442           -0.157           0.875
L2.Average Daily Room Rate (ADR)         0.210501         0.603393            0.349           0.727
L2.Unemployment Rate                    -0.042670         0.232843           -0.183           0.855
L3.Google Trend Index                   -0.025844         0.037561           -0.688           0.491
L3.Visitor Volume                       -0.239841         0.976596           -0.246           0.806
L3.Average Daily Room Rate (ADR)         0.637773         0.564164            1.130           0.258
L3.Unemployment Rate                    -0.284552         0.244645           -1.163           0.245
L4.Google Trend Index                    0.033261         0.038667            0.860           0.390
L4.Visitor Volume                       -1.126027         0.873568           -1.289           0.197
L4.Average Daily Room Rate (ADR)         0.268252         0.569777            0.471           0.638
L4.Unemployment Rate                    -0.216014         0.236231           -0.914           0.360
L5.Google Trend Index                    0.033429         0.040725            0.821           0.412
L5.Visitor Volume                       -0.981981         0.813710           -1.207           0.228
L5.Average Daily Room Rate (ADR)        -0.527426         0.549709           -0.959           0.337
L5.Unemployment Rate                    -0.105056         0.228157           -0.460           0.645
L6.Google Trend Index                    0.025842         0.039389            0.656           0.512
L6.Visitor Volume                        0.380920         0.878747            0.433           0.665
L6.Average Daily Room Rate (ADR)         0.191724         0.546455            0.351           0.726
L6.Unemployment Rate                    -0.075174         0.229032           -0.328           0.743
L7.Google Trend Index                   -0.028878         0.037489           -0.770           0.441
L7.Visitor Volume                       -0.568752         0.827119           -0.688           0.492
L7.Average Daily Room Rate (ADR)         0.091077         0.529705            0.172           0.863
L7.Unemployment Rate                    -0.095745         0.151361           -0.633           0.527
===================================================================================================

Correlation matrix of residuals
                                 Google Trend Index  Visitor Volume  Average Daily Room Rate (ADR)  Unemployment Rate
Google Trend Index                         1.000000        0.586632                       0.382448          -0.532869
Visitor Volume                             0.586632        1.000000                       0.494676          -0.420493
Average Daily Room Rate (ADR)              0.382448        0.494676                       1.000000          -0.370968
Unemployment Rate                         -0.532869       -0.420493                      -0.370968           1.000000





/// The Durbin Watson Test ///
Google Trend Index : 1.79
Visitor Volume : 1.83
Average Daily Room Rate (ADR) : 2.02
Unemployment Rate : 1.82
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>9.633</td>
      <td>8.704</td>
      <td>92.797</td>
      <td>0.111</td>
      <td>model_12</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/1fc5c498f11795655f8fc26ae3ed8265247e76591341d50faff2367e36f0e357.png" src="../../_images/1fc5c498f11795655f8fc26ae3ed8265247e76591341d50faff2367e36f0e357.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_13</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_13&#39;</span><span class="p">)</span>
<span class="n">model_13</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;Visitor Volume&#39;, &#39;CPI&#39;, &#39;Unemployment Rate&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0      -2.968     -2.818*     0.05140      -2.911
1      -3.290      -2.539    0.03735*     -3.002*
2      -3.287      -1.937     0.03788      -2.770
3      -3.120      -1.169     0.04611      -2.372
4      -3.236     -0.6845     0.04344      -2.258
5      -3.428     -0.2763     0.03943      -2.220
6      -3.511      0.2419     0.04222      -2.072
7     -3.554*      0.7984     0.05079      -1.886
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:32
--------------------------------------------------------------------
No. of Equations:         4.00000    BIC:                   0.798364
Nobs:                     52.0000    HQIC:                  -1.88566
Log likelihood:          -86.7245    FPE:                  0.0507863
AIC:                     -3.55441    Det(Omega_mle):      0.00862620
--------------------------------------------------------------------
Results for equation Google Trend Index
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                        -0.105612         1.063420           -0.099           0.921
L1.Google Trend Index        -0.192392         0.284634           -0.676           0.499
L1.Visitor Volume             8.022198         4.153194            1.932           0.053
L1.CPI                       -9.414886        38.996331           -0.241           0.809
L1.Unemployment Rate          0.658787         1.692331            0.389           0.697
L2.Google Trend Index        -0.135574         0.352505           -0.385           0.701
L2.Visitor Volume            -1.009166         6.635058           -0.152           0.879
L2.CPI                      -15.941374        39.317201           -0.405           0.685
L2.Unemployment Rate          0.753767         1.695796            0.444           0.657
L3.Google Trend Index        -0.215047         0.286871           -0.750           0.453
L3.Visitor Volume            -1.112003         6.273196           -0.177           0.859
L3.CPI                      -24.170261        41.056381           -0.589           0.556
L3.Unemployment Rate         -0.860927         1.707328           -0.504           0.614
L4.Google Trend Index        -0.122688         0.294635           -0.416           0.677
L4.Visitor Volume             0.744147         6.076902            0.122           0.903
L4.CPI                       19.702734        38.279075            0.515           0.607
L4.Unemployment Rate         -0.981174         1.701076           -0.577           0.564
L5.Google Trend Index        -0.053924         0.291345           -0.185           0.853
L5.Visitor Volume            -0.661969         7.784941           -0.085           0.932
L5.CPI                      -27.908383        40.529388           -0.689           0.491
L5.Unemployment Rate         -2.282030         1.974952           -1.155           0.248
L6.Google Trend Index         0.023437         0.341437            0.069           0.945
L6.Visitor Volume           -13.435544         9.073423           -1.481           0.139
L6.CPI                      -20.235593        34.128670           -0.593           0.553
L6.Unemployment Rate         -3.546873         1.920606           -1.847           0.065
L7.Google Trend Index         0.257790         0.308239            0.836           0.403
L7.Visitor Volume            -8.787663         7.593294           -1.157           0.247
L7.CPI                      -32.812978        39.976091           -0.821           0.412
L7.Unemployment Rate         -3.098254         1.335608           -2.320           0.020
========================================================================================

Results for equation Visitor Volume
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                         0.000843         0.072250            0.012           0.991
L1.Google Trend Index         0.016456         0.019338            0.851           0.395
L1.Visitor Volume             0.452930         0.282173            1.605           0.108
L1.CPI                        0.708547         2.649461            0.267           0.789
L1.Unemployment Rate          0.079175         0.114979            0.689           0.491
L2.Google Trend Index        -0.020561         0.023950           -0.859           0.391
L2.Visitor Volume             0.042480         0.450794            0.094           0.925
L2.CPI                       -1.869894         2.671262           -0.700           0.484
L2.Unemployment Rate         -0.091484         0.115215           -0.794           0.427
L3.Google Trend Index         0.020192         0.019490            1.036           0.300
L3.Visitor Volume            -0.511444         0.426209           -1.200           0.230
L3.CPI                       -2.483227         2.789424           -0.890           0.373
L3.Unemployment Rate         -0.129085         0.115998           -1.113           0.266
L4.Google Trend Index         0.011502         0.020018            0.575           0.566
L4.Visitor Volume            -0.637588         0.412873           -1.544           0.123
L4.CPI                        1.899398         2.600730            0.730           0.465
L4.Unemployment Rate         -0.013035         0.115573           -0.113           0.910
L5.Google Trend Index         0.024914         0.019794            1.259           0.208
L5.Visitor Volume             0.182127         0.528919            0.344           0.731
L5.CPI                       -1.831945         2.753619           -0.665           0.506
L5.Unemployment Rate          0.033670         0.134181            0.251           0.802
L6.Google Trend Index        -0.001907         0.023198           -0.082           0.934
L6.Visitor Volume            -0.244439         0.616460           -0.397           0.692
L6.CPI                       -0.592423         2.318746           -0.255           0.798
L6.Unemployment Rate         -0.122649         0.130488           -0.940           0.347
L7.Google Trend Index         0.022854         0.020942            1.091           0.275
L7.Visitor Volume            -0.517525         0.515898           -1.003           0.316
L7.CPI                       -0.978279         2.716027           -0.360           0.719
L7.Unemployment Rate         -0.088057         0.090743           -0.970           0.332
========================================================================================

Results for equation CPI
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                         0.001478         0.007204            0.205           0.837
L1.Google Trend Index         0.002413         0.001928            1.252           0.211
L1.Visitor Volume             0.002811         0.028133            0.100           0.920
L1.CPI                       -0.233224         0.264157           -0.883           0.377
L1.Unemployment Rate          0.005865         0.011464            0.512           0.609
L2.Google Trend Index        -0.001224         0.002388           -0.513           0.608
L2.Visitor Volume            -0.017539         0.044945           -0.390           0.696
L2.CPI                       -0.450655         0.266331           -1.692           0.091
L2.Unemployment Rate         -0.001538         0.011487           -0.134           0.894
L3.Google Trend Index         0.001344         0.001943            0.692           0.489
L3.Visitor Volume             0.009871         0.042494            0.232           0.816
L3.CPI                       -0.205795         0.278112           -0.740           0.459
L3.Unemployment Rate         -0.007530         0.011565           -0.651           0.515
L4.Google Trend Index         0.000696         0.001996            0.349           0.727
L4.Visitor Volume            -0.100277         0.041164           -2.436           0.015
L4.CPI                       -0.071822         0.259299           -0.277           0.782
L4.Unemployment Rate         -0.014542         0.011523           -1.262           0.207
L5.Google Trend Index         0.000773         0.001974            0.392           0.695
L5.Visitor Volume            -0.018197         0.052734           -0.345           0.730
L5.CPI                        0.024863         0.274542            0.091           0.928
L5.Unemployment Rate         -0.005180         0.013378           -0.387           0.699
L6.Google Trend Index        -0.001458         0.002313           -0.631           0.528
L6.Visitor Volume             0.029327         0.061462            0.477           0.633
L6.CPI                       -0.492447         0.231184           -2.130           0.033
L6.Unemployment Rate         -0.009950         0.013010           -0.765           0.444
L7.Google Trend Index         0.002291         0.002088            1.097           0.273
L7.Visitor Volume            -0.032437         0.051436           -0.631           0.528
L7.CPI                       -0.000448         0.270794           -0.002           0.999
L7.Unemployment Rate          0.004732         0.009047            0.523           0.601
========================================================================================

Results for equation Unemployment Rate
========================================================================================
                           coefficient       std. error           t-stat            prob
----------------------------------------------------------------------------------------
const                        -0.025837         0.168989           -0.153           0.878
L1.Google Trend Index         0.090825         0.045231            2.008           0.045
L1.Visitor Volume            -3.747108         0.659987           -5.678           0.000
L1.CPI                       -5.494987         6.196936           -0.887           0.375
L1.Unemployment Rate         -0.525865         0.268930           -1.955           0.051
L2.Google Trend Index         0.064961         0.056017            1.160           0.246
L2.Visitor Volume            -0.858620         1.054382           -0.814           0.415
L2.CPI                        5.272241         6.247926            0.844           0.399
L2.Unemployment Rate         -0.049630         0.269480           -0.184           0.854
L3.Google Trend Index         0.007989         0.045587            0.175           0.861
L3.Visitor Volume             0.791389         0.996878            0.794           0.427
L3.CPI                        2.091567         6.524301            0.321           0.749
L3.Unemployment Rate          0.086823         0.271313            0.320           0.749
L4.Google Trend Index         0.014626         0.046821            0.312           0.755
L4.Visitor Volume            -0.005844         0.965685           -0.006           0.995
L4.CPI                       -2.549514         6.082957           -0.419           0.675
L4.Unemployment Rate         -0.450615         0.270319           -1.667           0.096
L5.Google Trend Index         0.045618         0.046298            0.985           0.324
L5.Visitor Volume            -2.890343         1.237111           -2.336           0.019
L5.CPI                        6.439078         6.440556            1.000           0.317
L5.Unemployment Rate          0.010262         0.313841            0.033           0.974
L6.Google Trend Index         0.015400         0.054258            0.284           0.777
L6.Visitor Volume             1.649292         1.441864            1.144           0.253
L6.CPI                        5.481297         5.423413            1.011           0.312
L6.Unemployment Rate          0.421328         0.305205            1.380           0.167
L7.Google Trend Index        -0.090749         0.048983           -1.853           0.064
L7.Visitor Volume             2.211603         1.206656            1.833           0.067
L7.CPI                        4.035935         6.352631            0.635           0.525
L7.Unemployment Rate          0.187242         0.212243            0.882           0.378
========================================================================================

Correlation matrix of residuals
                      Google Trend Index  Visitor Volume       CPI  Unemployment Rate
Google Trend Index              1.000000        0.693161  0.619344          -0.634892
Visitor Volume                  0.693161        1.000000  0.483473          -0.473241
CPI                             0.619344        0.483473  1.000000          -0.616666
Unemployment Rate              -0.634892       -0.473241 -0.616666           1.000000





/// The Durbin Watson Test ///
Google Trend Index : 2.1
Visitor Volume : 2.13
CPI : 2.12
Unemployment Rate : 2.24
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>7.624</td>
      <td>6.003</td>
      <td>58.132</td>
      <td>0.074</td>
      <td>model_13</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/954b8c5ff908731b3fabe9ae4e3a414f57fb25a6c0c14f97a297bb2e83bc2982.png" src="../../_images/954b8c5ff908731b3fabe9ae4e3a414f57fb25a6c0c14f97a297bb2e83bc2982.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_14</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_14&#39;</span><span class="p">)</span>
<span class="n">model_14</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;Average Daily Room Rate (ADR)&#39;, &#39;CPI&#39;, &#39;Unemployment Rate&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0      -2.382     -2.232*     0.09237     -2.324*
1      -2.268      -1.518      0.1038      -1.980
2     -2.536*      -1.185    0.08028*      -2.018
3      -2.317     -0.3658      0.1029      -1.569
4      -2.026      0.5257      0.1457      -1.048
5      -1.696       1.456      0.2230     -0.4871
6      -1.716       2.037      0.2541     -0.2771
7      -1.835       2.518      0.2836     -0.1658
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:32
--------------------------------------------------------------------
No. of Equations:         4.00000    BIC:                   -1.53568
Nobs:                     57.0000    HQIC:                  -2.32455
Log likelihood:          -206.976    FPE:                  0.0598827
AIC:                     -2.82602    Det(Omega_mle):       0.0333139
--------------------------------------------------------------------
Results for equation Google Trend Index
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.213965         0.946526            0.226           0.821
L1.Google Trend Index                    0.184843         0.155762            1.187           0.235
L1.Average Daily Room Rate (ADR)        -6.998566         2.248011           -3.113           0.002
L1.CPI                                  40.459134        19.379487            2.088           0.037
L1.Unemployment Rate                    -0.416368         0.892125           -0.467           0.641
L2.Google Trend Index                   -0.281786         0.152684           -1.846           0.065
L2.Average Daily Room Rate (ADR)        -2.101772         2.365946           -0.888           0.374
L2.CPI                                  24.668523        19.709846            1.252           0.211
L2.Unemployment Rate                    -0.067173         0.953953           -0.070           0.944
===================================================================================================

Results for equation Average Daily Room Rate (ADR)
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.053563         0.073171            0.732           0.464
L1.Google Trend Index                   -0.000830         0.012041           -0.069           0.945
L1.Average Daily Room Rate (ADR)        -0.409542         0.173782           -2.357           0.018
L1.CPI                                   2.204655         1.498130            1.472           0.141
L1.Unemployment Rate                    -0.126539         0.068966           -1.835           0.067
L2.Google Trend Index                    0.020829         0.011803            1.765           0.078
L2.Average Daily Room Rate (ADR)        -0.052791         0.182899           -0.289           0.773
L2.CPI                                  -2.386846         1.523668           -1.567           0.117
L2.Unemployment Rate                     0.117207         0.073745            1.589           0.112
===================================================================================================

Results for equation CPI
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.001302         0.007399            0.176           0.860
L1.Google Trend Index                    0.001187         0.001218            0.975           0.329
L1.Average Daily Room Rate (ADR)        -0.000773         0.017572           -0.044           0.965
L1.CPI                                  -0.183323         0.151486           -1.210           0.226
L1.Unemployment Rate                     0.005866         0.006974            0.841           0.400
L2.Google Trend Index                   -0.000751         0.001194           -0.629           0.529
L2.Average Daily Room Rate (ADR)        -0.018652         0.018494           -1.009           0.313
L2.CPI                                  -0.423560         0.154068           -2.749           0.006
L2.Unemployment Rate                    -0.001043         0.007457           -0.140           0.889
===================================================================================================

Results for equation Unemployment Rate
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                   -0.013302         0.195481           -0.068           0.946
L1.Google Trend Index                   -0.047594         0.032169           -1.480           0.139
L1.Average Daily Room Rate (ADR)         0.549426         0.464269            1.183           0.237
L1.CPI                                  -4.721153         4.002335           -1.180           0.238
L1.Unemployment Rate                     0.031360         0.184245            0.170           0.865
L2.Google Trend Index                    0.016397         0.031533            0.520           0.603
L2.Average Daily Room Rate (ADR)        -0.660045         0.488625           -1.351           0.177
L2.CPI                                   0.492523         4.070562            0.121           0.904
L2.Unemployment Rate                    -0.169937         0.197014           -0.863           0.388
===================================================================================================

Correlation matrix of residuals
                                 Google Trend Index  Average Daily Room Rate (ADR)       CPI  Unemployment Rate
Google Trend Index                         1.000000                       0.445387  0.342082          -0.514851
Average Daily Room Rate (ADR)              0.445387                       1.000000  0.354554          -0.647043
CPI                                        0.342082                       0.354554  1.000000          -0.284482
Unemployment Rate                         -0.514851                      -0.647043 -0.284482           1.000000





/// The Durbin Watson Test ///
Google Trend Index : 1.94
Average Daily Room Rate (ADR) : 2.26
CPI : 1.97
Unemployment Rate : 1.95
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2.404</td>
      <td>2.092</td>
      <td>5.779</td>
      <td>0.026</td>
      <td>model_14</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/75d367ae4ed231f26ae984a888b82d7c22499268ed090c12b6618dd784a082ab.png" src="../../_images/75d367ae4ed231f26ae984a888b82d7c22499268ed090c12b6618dd784a082ab.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_15</span> <span class="o">=</span> <span class="n">build_VAR</span><span class="p">(</span><span class="s1">&#39;model_15&#39;</span><span class="p">)</span>
<span class="n">model_15</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Google Trend Index&#39;, &#39;Visitor Volume&#39;, &#39;Average Daily Room Rate (ADR)&#39;, &#39;CPI&#39;, &#39;Unemployment Rate&#39;]
 VAR Order Selection (* highlights the minimums) 
=================================================
      AIC         BIC         FPE         HQIC   
-------------------------------------------------
0      -4.523     -4.335*     0.01086      -4.451
1      -5.166      -4.040    0.005737     -4.734*
2      -5.337      -3.273   0.004969*      -4.546
3      -5.296      -2.294    0.005555      -4.145
4      -5.324      -1.384    0.006221      -3.813
5      -5.596     -0.7179    0.006079      -3.726
6      -5.684      0.1321    0.008446      -3.454
7     -5.901*      0.8536     0.01357      -3.311
-------------------------------------------------
  Summary of Regression Results   
==================================
Model:                         VAR
Method:                        OLS
Date:           Sun, 31, Dec, 2023
Time:                     11:48:32
--------------------------------------------------------------------
No. of Equations:         5.00000    BIC:                   0.853606
Nobs:                     52.0000    HQIC:                  -3.31126
Log likelihood:          -35.5058    FPE:                  0.0135681
AIC:                     -5.90070    Det(Omega_mle):     0.000977511
--------------------------------------------------------------------
Results for equation Google Trend Index
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.526056         1.138175            0.462           0.644
L1.Google Trend Index                   -0.085840         0.267404           -0.321           0.748
L1.Visitor Volume                        9.490544         3.937402            2.410           0.016
L1.Average Daily Room Rate (ADR)        -8.818667         3.511345           -2.511           0.012
L1.CPI                                   4.514952        41.599508            0.109           0.914
L1.Unemployment Rate                     1.519518         2.154528            0.705           0.481
L2.Google Trend Index                   -0.043030         0.331903           -0.130           0.897
L2.Visitor Volume                       13.038984        10.923600            1.194           0.233
L2.Average Daily Room Rate (ADR)       -10.219262         6.446754           -1.585           0.113
L2.CPI                                 -62.759146        44.621175           -1.406           0.160
L2.Unemployment Rate                    -2.577151         2.073821           -1.243           0.214
L3.Google Trend Index                   -0.164418         0.316820           -0.519           0.604
L3.Visitor Volume                      -14.258844        10.133083           -1.407           0.159
L3.Average Daily Room Rate (ADR)         4.975288         5.728572            0.869           0.385
L3.CPI                                 -44.086245        42.228901           -1.044           0.296
L3.Unemployment Rate                    -1.683471         2.226280           -0.756           0.450
L4.Google Trend Index                    0.736317         0.428067            1.720           0.085
L4.Visitor Volume                       -1.834179         8.783384           -0.209           0.835
L4.Average Daily Room Rate (ADR)         0.686592         5.399698            0.127           0.899
L4.CPI                                 -63.224493        43.858771           -1.442           0.149
L4.Unemployment Rate                     0.814524         2.364963            0.344           0.731
L5.Google Trend Index                   -0.293587         0.350382           -0.838           0.402
L5.Visitor Volume                       -1.105943        10.787922           -0.103           0.918
L5.Average Daily Room Rate (ADR)         7.187579         5.005349            1.436           0.151
L5.CPI                                 -30.937282        46.718487           -0.662           0.508
L5.Unemployment Rate                    -4.056879         2.326465           -1.744           0.081
L6.Google Trend Index                    0.280103         0.337164            0.831           0.406
L6.Visitor Volume                      -25.281038        12.044977           -2.099           0.036
L6.Average Daily Room Rate (ADR)         7.428968         5.696322            1.304           0.192
L6.CPI                                 -39.625420        42.454906           -0.933           0.351
L6.Unemployment Rate                    -0.953478         2.161694           -0.441           0.659
L7.Google Trend Index                    0.069363         0.359535            0.193           0.847
L7.Visitor Volume                        2.660708         9.427740            0.282           0.778
L7.Average Daily Room Rate (ADR)        -8.626854         4.629597           -1.863           0.062
L7.CPI                                 -13.338067        45.721953           -0.292           0.770
L7.Unemployment Rate                    -4.295594         1.451192           -2.960           0.003
===================================================================================================

Results for equation Visitor Volume
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.081373         0.092038            0.884           0.377
L1.Google Trend Index                    0.029056         0.021624            1.344           0.179
L1.Visitor Volume                        0.534506         0.318396            1.679           0.093
L1.Average Daily Room Rate (ADR)        -0.627493         0.283943           -2.210           0.027
L1.CPI                                   2.331957         3.363923            0.693           0.488
L1.Unemployment Rate                     0.153845         0.174225            0.883           0.377
L2.Google Trend Index                   -0.032585         0.026839           -1.214           0.225
L2.Visitor Volume                        0.924992         0.883331            1.047           0.295
L2.Average Daily Room Rate (ADR)        -0.664547         0.521314           -1.275           0.202
L2.CPI                                  -1.411184         3.608269           -0.391           0.696
L2.Unemployment Rate                    -0.214942         0.167698           -1.282           0.200
L3.Google Trend Index                    0.013896         0.025619            0.542           0.588
L3.Visitor Volume                       -0.674305         0.819407           -0.823           0.411
L3.Average Daily Room Rate (ADR)        -0.031134         0.463238           -0.067           0.946
L3.CPI                                  -1.990547         3.414819           -0.583           0.560
L3.Unemployment Rate                    -0.058042         0.180027           -0.322           0.747
L4.Google Trend Index                    0.034778         0.034615            1.005           0.315
L4.Visitor Volume                       -0.276262         0.710264           -0.389           0.697
L4.Average Daily Room Rate (ADR)        -0.295386         0.436644           -0.676           0.499
L4.CPI                                  -0.804040         3.546617           -0.227           0.821
L4.Unemployment Rate                     0.061976         0.191242            0.324           0.746
L5.Google Trend Index                    0.002142         0.028333            0.076           0.940
L5.Visitor Volume                        0.218430         0.872360            0.250           0.802
L5.Average Daily Room Rate (ADR)         0.146709         0.404755            0.362           0.717
L5.CPI                                   0.100327         3.777867            0.027           0.979
L5.Unemployment Rate                     0.101391         0.188128            0.539           0.590
L6.Google Trend Index                   -0.000006         0.027265           -0.000           1.000
L6.Visitor Volume                        0.169182         0.974011            0.174           0.862
L6.Average Daily Room Rate (ADR)        -0.156955         0.460630           -0.341           0.733
L6.CPI                                  -0.098528         3.433095           -0.029           0.977
L6.Unemployment Rate                     0.102699         0.174804            0.588           0.557
L7.Google Trend Index                   -0.005931         0.029074           -0.204           0.838
L7.Visitor Volume                        0.534996         0.762369            0.702           0.483
L7.Average Daily Room Rate (ADR)        -0.585237         0.374370           -1.563           0.118
L7.CPI                                   1.879301         3.697283            0.508           0.611
L7.Unemployment Rate                    -0.093252         0.117350           -0.795           0.427
===================================================================================================

Results for equation Average Daily Room Rate (ADR)
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                    0.143935         0.086902            1.656           0.098
L1.Google Trend Index                   -0.001991         0.020417           -0.097           0.922
L1.Visitor Volume                        1.125590         0.300627            3.744           0.000
L1.Average Daily Room Rate (ADR)        -1.166110         0.268097           -4.350           0.000
L1.CPI                                   0.298972         3.176192            0.094           0.925
L1.Unemployment Rate                    -0.107757         0.164502           -0.655           0.512
L2.Google Trend Index                   -0.007539         0.025341           -0.297           0.766
L2.Visitor Volume                        0.431513         0.834035            0.517           0.605
L2.Average Daily Room Rate (ADR)        -0.424483         0.492220           -0.862           0.388
L2.CPI                                  -2.463004         3.406902           -0.723           0.470
L2.Unemployment Rate                     0.070820         0.158340            0.447           0.655
L3.Google Trend Index                    0.020591         0.024190            0.851           0.395
L3.Visitor Volume                        0.167752         0.773678            0.217           0.828
L3.Average Daily Room Rate (ADR)        -0.260237         0.437386           -0.595           0.552
L3.CPI                                  -3.209335         3.224247           -0.995           0.320
L3.Unemployment Rate                     0.098865         0.169980            0.582           0.561
L4.Google Trend Index                   -0.009837         0.032684           -0.301           0.763
L4.Visitor Volume                        0.154125         0.670626            0.230           0.818
L4.Average Daily Room Rate (ADR)        -0.014480         0.412276           -0.035           0.972
L4.CPI                                   1.216270         3.348691            0.363           0.716
L4.Unemployment Rate                     0.147832         0.180569            0.819           0.413
L5.Google Trend Index                   -0.016778         0.026752           -0.627           0.531
L5.Visitor Volume                        0.584322         0.823676            0.709           0.478
L5.Average Daily Room Rate (ADR)        -0.140372         0.382167           -0.367           0.713
L5.CPI                                   1.490067         3.567035            0.418           0.676
L5.Unemployment Rate                     0.169439         0.177629            0.954           0.340
L6.Google Trend Index                   -0.029924         0.025743           -1.162           0.245
L6.Visitor Volume                        1.006541         0.919654            1.094           0.274
L6.Average Daily Room Rate (ADR)        -0.368751         0.434924           -0.848           0.397
L6.CPI                                   2.108528         3.241503            0.650           0.515
L6.Unemployment Rate                     0.197989         0.165049            1.200           0.230
L7.Google Trend Index                   -0.028620         0.027451           -1.043           0.297
L7.Visitor Volume                        0.988868         0.719824            1.374           0.170
L7.Average Daily Room Rate (ADR)        -0.470594         0.353478           -1.331           0.183
L7.CPI                                   0.971890         3.490948            0.278           0.781
L7.Unemployment Rate                    -0.051192         0.110801           -0.462           0.644
===================================================================================================

Results for equation CPI
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                   -0.001083         0.009285           -0.117           0.907
L1.Google Trend Index                    0.002758         0.002182            1.264           0.206
L1.Visitor Volume                        0.003602         0.032122            0.112           0.911
L1.Average Daily Room Rate (ADR)        -0.018957         0.028646           -0.662           0.508
L1.CPI                                  -0.239427         0.339376           -0.705           0.481
L1.Unemployment Rate                    -0.001386         0.017577           -0.079           0.937
L2.Google Trend Index                    0.000216         0.002708            0.080           0.936
L2.Visitor Volume                       -0.017546         0.089117           -0.197           0.844
L2.Average Daily Room Rate (ADR)        -0.002347         0.052594           -0.045           0.964
L2.CPI                                  -0.759615         0.364027           -2.087           0.037
L2.Unemployment Rate                    -0.014577         0.016919           -0.862           0.389
L3.Google Trend Index                    0.002741         0.002585            1.060           0.289
L3.Visitor Volume                       -0.067636         0.082667           -0.818           0.413
L3.Average Daily Room Rate (ADR)         0.036639         0.046735            0.784           0.433
L3.CPI                                  -0.309435         0.344511           -0.898           0.369
L3.Unemployment Rate                    -0.021348         0.018162           -1.175           0.240
L4.Google Trend Index                    0.003830         0.003492            1.097           0.273
L4.Visitor Volume                       -0.159807         0.071656           -2.230           0.026
L4.Average Daily Room Rate (ADR)         0.045703         0.044052            1.037           0.300
L4.CPI                                  -0.346919         0.357807           -0.970           0.332
L4.Unemployment Rate                    -0.007691         0.019294           -0.399           0.690
L5.Google Trend Index                    0.000999         0.002858            0.349           0.727
L5.Visitor Volume                       -0.028161         0.088010           -0.320           0.749
L5.Average Daily Room Rate (ADR)         0.028614         0.040834            0.701           0.483
L5.CPI                                   0.026948         0.381137            0.071           0.944
L5.Unemployment Rate                    -0.020509         0.018980           -1.081           0.280
L6.Google Trend Index                   -0.000942         0.002751           -0.343           0.732
L6.Visitor Volume                       -0.057913         0.098265           -0.589           0.556
L6.Average Daily Room Rate (ADR)         0.038365         0.046472            0.826           0.409
L6.CPI                                  -0.422269         0.346354           -1.219           0.223
L6.Unemployment Rate                    -0.005122         0.017635           -0.290           0.771
L7.Google Trend Index                    0.002668         0.002933            0.910           0.363
L7.Visitor Volume                        0.002885         0.076913            0.038           0.970
L7.Average Daily Room Rate (ADR)        -0.044039         0.037769           -1.166           0.244
L7.CPI                                   0.108452         0.373008            0.291           0.771
L7.Unemployment Rate                    -0.005314         0.011839           -0.449           0.654
===================================================================================================

Results for equation Unemployment Rate
===================================================================================================
                                      coefficient       std. error           t-stat            prob
---------------------------------------------------------------------------------------------------
const                                   -0.088056         0.169741           -0.519           0.604
L1.Google Trend Index                    0.063263         0.039879            1.586           0.113
L1.Visitor Volume                       -4.346137         0.587203           -7.401           0.000
L1.Average Daily Room Rate (ADR)         1.848416         0.523663            3.530           0.000
L1.CPI                                  -3.104133         6.203928           -0.500           0.617
L1.Unemployment Rate                    -0.174021         0.321315           -0.542           0.588
L2.Google Trend Index                    0.073314         0.049498            1.481           0.139
L2.Visitor Volume                       -0.770037         1.629087           -0.473           0.636
L2.Average Daily Room Rate (ADR)         0.335610         0.961434            0.349           0.727
L2.CPI                                   6.848556         6.654563            1.029           0.303
L2.Unemployment Rate                     0.104475         0.309279            0.338           0.736
L3.Google Trend Index                   -0.045266         0.047249           -0.958           0.338
L3.Visitor Volume                        0.631816         1.511194            0.418           0.676
L3.Average Daily Room Rate (ADR)         0.291467         0.854329            0.341           0.733
L3.CPI                                   5.988719         6.297792            0.951           0.342
L3.Unemployment Rate                    -0.045584         0.332015           -0.137           0.891
L4.Google Trend Index                   -0.008810         0.063840           -0.138           0.890
L4.Visitor Volume                        0.033109         1.309907            0.025           0.980
L4.Average Daily Room Rate (ADR)        -0.234327         0.805282           -0.291           0.771
L4.CPI                                   3.440399         6.540862            0.526           0.599
L4.Unemployment Rate                    -0.354645         0.352698           -1.006           0.315
L5.Google Trend Index                    0.023694         0.052254            0.453           0.650
L5.Visitor Volume                       -1.658319         1.608853           -1.031           0.303
L5.Average Daily Room Rate (ADR)        -0.716076         0.746471           -0.959           0.337
L5.CPI                                   5.992541         6.967345            0.860           0.390
L5.Unemployment Rate                     0.041413         0.346956            0.119           0.905
L6.Google Trend Index                    0.016846         0.050283            0.335           0.738
L6.Visitor Volume                        1.732165         1.796323            0.964           0.335
L6.Average Daily Room Rate (ADR)        -0.372237         0.849519           -0.438           0.661
L6.CPI                                   3.715279         6.331497            0.587           0.557
L6.Unemployment Rate                     0.175502         0.322383            0.544           0.586
L7.Google Trend Index                   -0.053158         0.053619           -0.991           0.321
L7.Visitor Volume                        0.848764         1.406003            0.604           0.546
L7.Average Daily Room Rate (ADR)         0.025408         0.690433            0.037           0.971
L7.CPI                                   0.277182         6.818727            0.041           0.968
L7.Unemployment Rate                     0.097771         0.216423            0.452           0.651
===================================================================================================

Correlation matrix of residuals
                                 Google Trend Index  Visitor Volume  Average Daily Room Rate (ADR)       CPI  Unemployment Rate
Google Trend Index                         1.000000        0.598242                       0.408031  0.519816          -0.509057
Visitor Volume                             0.598242        1.000000                       0.432681  0.443402          -0.334487
Average Daily Room Rate (ADR)              0.408031        0.432681                       1.000000  0.371575          -0.297407
CPI                                        0.519816        0.443402                       0.371575  1.000000          -0.610445
Unemployment Rate                         -0.509057       -0.334487                      -0.297407 -0.610445           1.000000





/// The Durbin Watson Test ///
Google Trend Index : 1.68
Visitor Volume : 1.65
Average Daily Room Rate (ADR) : 2.13
CPI : 1.84
Unemployment Rate : 1.92
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/wakanamorlan/anaconda3/envs/py310/lib/python3.10/site-packages/statsmodels/tsa/base/tsa_model.py:471: ValueWarning: No frequency information was provided, so inferred frequency MS will be used.
  self._init_dates(dates, freq)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
      <th>Model_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>17.495</td>
      <td>15.733</td>
      <td>306.089</td>
      <td>0.168</td>
      <td>model_15</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/8d205a7cb39da49992f3cf05acfb9a5c6e2ef14c0d35f6ea5249dc31045f4e0a.png" src="../../_images/8d205a7cb39da49992f3cf05acfb9a5c6e2ef14c0d35f6ea5249dc31045f4e0a.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">all_results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">model_1</span><span class="p">,</span> <span class="n">model_2</span><span class="p">,</span> <span class="n">model_3</span><span class="p">,</span> <span class="n">model_4</span><span class="p">,</span> <span class="n">model_5</span><span class="p">,</span> <span class="n">model_6</span><span class="p">,</span> <span class="n">model_7</span><span class="p">,</span> <span class="n">model_8</span><span class="p">,</span> <span class="n">model_9</span><span class="p">,</span> <span class="n">model_10</span><span class="p">,</span> <span class="n">model_11</span><span class="p">,</span>
         <span class="n">model_12</span><span class="p">,</span> <span class="n">model_13</span><span class="p">,</span> <span class="n">model_14</span><span class="p">,</span> <span class="n">model_15</span><span class="p">])</span>

<span class="n">all_results</span> <span class="o">=</span> <span class="n">all_results</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Model_name&#39;</span><span class="p">)</span>
<span class="n">all_results</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;RMSE&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RMSE</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>MAPE</th>
    </tr>
    <tr>
      <th>Model_name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>model_7</th>
      <td>1.874</td>
      <td>1.479</td>
      <td>3.510</td>
      <td>0.019</td>
    </tr>
    <tr>
      <th>model_3</th>
      <td>1.880</td>
      <td>1.661</td>
      <td>3.535</td>
      <td>0.021</td>
    </tr>
    <tr>
      <th>model_4</th>
      <td>1.894</td>
      <td>1.586</td>
      <td>3.586</td>
      <td>0.020</td>
    </tr>
    <tr>
      <th>model_8</th>
      <td>2.161</td>
      <td>1.945</td>
      <td>4.671</td>
      <td>0.025</td>
    </tr>
    <tr>
      <th>model_6</th>
      <td>2.401</td>
      <td>2.184</td>
      <td>5.763</td>
      <td>0.027</td>
    </tr>
    <tr>
      <th>model_14</th>
      <td>2.404</td>
      <td>2.092</td>
      <td>5.779</td>
      <td>0.026</td>
    </tr>
    <tr>
      <th>model_11</th>
      <td>2.496</td>
      <td>1.891</td>
      <td>6.229</td>
      <td>0.024</td>
    </tr>
    <tr>
      <th>model_1</th>
      <td>3.821</td>
      <td>3.263</td>
      <td>14.597</td>
      <td>0.044</td>
    </tr>
    <tr>
      <th>model_9</th>
      <td>5.013</td>
      <td>4.557</td>
      <td>25.133</td>
      <td>0.062</td>
    </tr>
    <tr>
      <th>model_2</th>
      <td>5.230</td>
      <td>4.772</td>
      <td>27.349</td>
      <td>0.065</td>
    </tr>
    <tr>
      <th>model_10</th>
      <td>5.756</td>
      <td>5.445</td>
      <td>33.128</td>
      <td>0.065</td>
    </tr>
    <tr>
      <th>model_5</th>
      <td>7.623</td>
      <td>7.229</td>
      <td>58.103</td>
      <td>0.103</td>
    </tr>
    <tr>
      <th>model_13</th>
      <td>7.624</td>
      <td>6.003</td>
      <td>58.132</td>
      <td>0.074</td>
    </tr>
    <tr>
      <th>model_12</th>
      <td>9.633</td>
      <td>8.704</td>
      <td>92.797</td>
      <td>0.111</td>
    </tr>
    <tr>
      <th>model_15</th>
      <td>17.495</td>
      <td>15.733</td>
      <td>306.089</td>
      <td>0.168</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "conda-env-py310-py"
        },
        kernelOptions: {
            name: "conda-env-py310-py",
            path: "./Projects/Google Travel Trend"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'conda-env-py310-py'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../../intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Konnichiwa! (‚ÄúHello!‚Äù in Japanese) üëã</p>
      </div>
    </a>
    <a class="right-next"
       href="../../Online%20Event%20Operation%20Analysis.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Online Event Optimization üéüÔ∏è</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#business-questions">Business Questions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#to-dos">To-Dos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-the-dataset">1. Import the dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analyze-the-characteristics-of-the-time-series">2. Analyze the characteristics of the time series</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#observations">Observations</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-for-causation-using-granger-s-causality-test">3. Test for Causation using Granger‚Äôs Causality Test</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#obseravatisons">Obseravatisons</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cointegration-test">4. Cointegration Test</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Observations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#split-the-series-into-training-and-test-dataset">5. Split the series into Training and Test Dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#check-stationality-and-transform-if-the-series-is-not-stationary">6. Check Stationality and Transform if the Series is not Stationary</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#augmented-dickey-fuller-test">Augmented Dickey Fuller Test</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Observations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deferencing">Deferencing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#observation">Observation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#find-optimal-order-p">8. Find optimal order (p)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#train-the-model-of-selected-order-p">9. Train the model of Selected Order (p)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#check-for-serial-correlation-of-residuals-using-durbin-watson-statistic">10. Check for serial Correlation of Residuals using Durbin Watson Statistic</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#forecast">11. Forecast</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#revert-the-differenced-values">12. Revert the differenced values</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluate-the-model">12. Evaluate the model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#find-the-best-combination-of-input-variables">13. Find the best combination of input variables</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#repeat-the-process-from-8">Repeat the process from 8</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Wakana Morlan
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2022-2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>